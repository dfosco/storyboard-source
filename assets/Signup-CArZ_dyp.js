import{j as e}from"./vendor-primer-CxVDLtAo.js";import{j as ye,b as A}from"./vendor-react-C38C2D6M.js";/* empty css              */import"./index-CdG3T2qz.js";import{u as a}from"./FormContext-BUZxcrzV.js";import"./Select-Dbl10n_r.js";import{R as ze,V as r,T as t,S as k,C as Ce,F as i,c as h,b as O,d as f,e as Te}from"./vendor-reshaped-Cq6zbE0i.js";import"./vendor-octicons-CjgvTD6I.js";const w=["Account","Organization","Workspace","Review"];function m(d){return typeof d=="string"?d:""}function F(d){return d===!0||d==="true"}function p({name:d,defaultValue:u,onCommit:x,...c}){const g=A.useRef(u);return e.jsx(Te,{name:d,defaultValue:u,onChange:({value:j})=>{g.current=j},onBlur:()=>x(g.current),...c})}function Le(){const d=ye(),[u,x]=a("signup.step"),c=Math.min(Math.max(parseInt(u,10)||0,0),w.length-1),g=n=>{const l=typeof n=="function"?n(c):n;x(String(l))},[j,q,L]=a("signup.errors.fullName"),[M,B,V]=a("signup.errors.email"),[W,D,U]=a("signup.errors.password"),[Y,G,H]=a("signup.errors.orgName"),[J,$,K]=a("signup.errors.orgSize"),[Q,X,Z]=a("signup.errors.role"),[_,ee,re]=a("signup.errors.region"),[ne,oe,se]=a("signup.errors.plan"),[ie,ae,le]=a("signup.errors.agreeTerms"),o={fullName:j,email:M,password:W,orgName:Y,orgSize:J,role:Q,region:_,plan:ne,agreeTerms:ie},te={fullName:q,email:B,password:D,orgName:G,orgSize:$,role:X,region:ee,plan:oe,agreeTerms:ae},ce={fullName:L,email:V,password:U,orgName:H,orgSize:K,role:Z,region:re,plan:se,agreeTerms:le},de=()=>Object.values(ce).forEach(n=>n()),E=n=>{de(),Object.entries(n).forEach(([l,be])=>te[l]?.(be))},[v,me]=a("signup.fullName"),[N,ge]=a("signup.email"),[S,ue]=a("signup.password"),[b,he]=a("signup.organization.name"),[y,pe]=a("signup.organization.size"),[z,xe]=a("signup.organization.role"),[C,je]=a("signup.workspace.region"),[T,fe]=a("signup.workspace.plan"),[R,we]=a("signup.workspace.newsletter"),[I,Ee]=a("signup.workspace.agreeTerms"),s=A.useMemo(()=>({fullName:m(v),email:m(N),password:m(S),orgName:m(b),orgSize:m(y),role:m(z),region:m(C),plan:m(T)||"starter",newsletter:F(R),agreeTerms:F(I)}),[v,N,S,b,y,z,C,T,R,I]);function P(n){const l={};return n===0&&(s.fullName.trim()||(l.fullName="Full name is required."),s.email.trim()||(l.email="Email is required."),s.password.trim()||(l.password="Password is required.")),n===1&&(s.orgName.trim()||(l.orgName="Organization name is required."),s.orgSize.trim()||(l.orgSize="Organization size is required."),s.role.trim()||(l.role="Role is required.")),n===2&&(s.region.trim()||(l.region="Region is required."),s.plan.trim()||(l.plan="Plan is required."),s.agreeTerms||(l.agreeTerms="You must accept terms to continue.")),E(l),Object.keys(l).length===0}function ve(){P(c)&&g(n=>Math.min(n+1,w.length-1))}function Ne(){E({}),g(n=>Math.max(n-1,0))}function Se(){if(!P(2)){g(2);return}d("/Dashboard")}return e.jsx(ze,{defaultTheme:"reshaped",defaultColorMode:"dark",children:e.jsx(r,{backgroundColor:"page",minHeight:"100vh",padding:6,align:"center",justify:"center",children:e.jsxs(r,{maxWidth:"560px",width:"100%",direction:"column",gap:6,children:[e.jsxs(r,{direction:"column",gap:2,children:[e.jsx(t,{variant:"featured-1",weight:"bold",children:"Create your cloud account"}),e.jsx(t,{variant:"body-2",color:"neutral-faded",children:"Complete the onboarding flow to configure your account and organization."})]}),e.jsx(k,{activeId:String(c),children:w.map((n,l)=>e.jsx(k.Item,{id:String(l),title:n,completed:l<c,subtitle:`Step ${l+1}`},n))}),e.jsx(Ce,{padding:6,children:e.jsxs(r,{direction:"column",gap:5,children:[c===0&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{hasError:!!o.fullName,children:[e.jsx(i.Label,{children:"Full name"}),e.jsx(p,{name:"fullName",defaultValue:s.fullName,placeholder:"Jane Doe",onCommit:me}),o.fullName&&e.jsx(i.Error,{children:o.fullName})]}),e.jsxs(i,{hasError:!!o.email,children:[e.jsx(i.Label,{children:"Email"}),e.jsx(p,{name:"email",defaultValue:s.email,placeholder:"jane@acme.cloud",onCommit:ge}),o.email&&e.jsx(i.Error,{children:o.email})]}),e.jsxs(i,{hasError:!!o.password,children:[e.jsx(i.Label,{children:"Password"}),e.jsx(p,{name:"password",defaultValue:s.password,onCommit:ue,inputAttributes:{type:"password"}}),o.password&&e.jsx(i.Error,{children:o.password})]})]}),c===1&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{hasError:!!o.orgName,children:[e.jsx(i.Label,{children:"Organization name"}),e.jsx(p,{name:"orgName",defaultValue:s.orgName,placeholder:"Acme Cloud",onCommit:he}),o.orgName&&e.jsx(i.Error,{children:o.orgName})]}),e.jsxs(i,{hasError:!!o.orgSize,children:[e.jsx(i.Label,{children:"Organization size"}),e.jsxs(h,{name:"orgSize",value:s.orgSize,placeholder:"Select size",onChange:({value:n})=>pe(n),children:[e.jsx("option",{value:"1-10",children:"1–10 employees"}),e.jsx("option",{value:"11-50",children:"11–50 employees"}),e.jsx("option",{value:"51-250",children:"51–250 employees"}),e.jsx("option",{value:"251+",children:"251+ employees"})]}),o.orgSize&&e.jsx(i.Error,{children:o.orgSize})]}),e.jsxs(i,{hasError:!!o.role,children:[e.jsx(i.Label,{children:"Your role"}),e.jsxs(h,{name:"role",value:s.role,placeholder:"Select role",onChange:({value:n})=>xe(n),children:[e.jsx("option",{value:"founder",children:"Founder"}),e.jsx("option",{value:"engineering-manager",children:"Engineering Manager"}),e.jsx("option",{value:"developer",children:"Developer"}),e.jsx("option",{value:"platform-admin",children:"Platform Admin"})]}),o.role&&e.jsx(i.Error,{children:o.role})]})]}),c===2&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{hasError:!!o.region,children:[e.jsx(i.Label,{children:"Primary region"}),e.jsxs(h,{name:"region",value:s.region,placeholder:"Select region",onChange:({value:n})=>je(n),children:[e.jsx("option",{value:"us-east-1",children:"US East"}),e.jsx("option",{value:"us-west-2",children:"US West"}),e.jsx("option",{value:"eu-west-1",children:"EU West"}),e.jsx("option",{value:"ap-southeast-1",children:"AP Southeast"})]}),o.region&&e.jsx(i.Error,{children:o.region})]}),e.jsxs(i,{hasError:!!o.plan,children:[e.jsx(i.Label,{children:"Starting plan"}),e.jsxs(h,{name:"plan",value:s.plan,onChange:({value:n})=>fe(n),children:[e.jsx("option",{value:"starter",children:"Starter"}),e.jsx("option",{value:"growth",children:"Growth"}),e.jsx("option",{value:"enterprise",children:"Enterprise"})]}),o.plan&&e.jsx(i.Error,{children:o.plan})]}),e.jsx(O,{name:"newsletter",checked:s.newsletter,onChange:({checked:n})=>we(n?"true":"false"),children:"Email me product updates and onboarding tips"}),e.jsxs(i,{hasError:!!o.agreeTerms,children:[e.jsx(O,{name:"agreeTerms",checked:s.agreeTerms,onChange:({checked:n})=>Ee(n?"true":"false"),children:"I agree to the Terms of Service and Privacy Policy"}),o.agreeTerms&&e.jsx(i.Error,{children:o.agreeTerms})]})]}),c===3&&e.jsxs(r,{direction:"column",gap:4,children:[e.jsx(t,{variant:"featured-3",weight:"bold",children:"Review your configuration"}),e.jsxs(r,{direction:"column",gap:3,children:[e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Name"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.fullName})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Email"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.email})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Organization"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.orgName})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Team size"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.orgSize})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Role"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.role})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Region"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.region})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Plan"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.plan})})]}),e.jsxs(r,{direction:"row",align:"center",children:[e.jsx(r.Item,{columns:4,children:e.jsx(t,{variant:"body-3",color:"neutral-faded",children:"Newsletter"})}),e.jsx(r.Item,{grow:!0,children:e.jsx(t,{variant:"body-2",children:s.newsletter?"Yes":"No"})})]})]})]}),e.jsxs(r,{direction:"row",justify:"end",gap:3,children:[c>0&&e.jsx(f,{variant:"ghost",onClick:Ne,children:"Back"}),c<3&&e.jsx(f,{color:"primary",onClick:ve,children:"Continue"}),c===3&&e.jsx(f,{color:"primary",onClick:Se,children:"Create account"})]})]})})]})})})}export{Le as default};
