const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CommentOverlay-DXyTCiPc.js","assets/vendor-primer-DemBoo1e.js","assets/vendor-react-BuwH6fqj.js","assets/vendor-octicons-BpazhUNY.js","assets/vendor-primer-BEAryH55.css","assets/vendor-reshaped-DaHIQrVt.js","assets/vendor-reshaped-CHiksvd1.css"])))=>i.map(i=>d[i]);
import{j as r,T as Kt,S as lo,C as Pa,a as Ma,b as L,B as oe,c as Da,F as z,d as V,L as bs,u as Ba,A as Ve,e as Ee,I as za,U as xs,N as $n,f as Ha,g as Fa,h as Gt,i as Ua,k as qa,l as Wa}from"./vendor-primer-DemBoo1e.js";import{b as w,u as uo,f as po,O as fo,h as fr,g as Va,L as Xe,i as Ka,j as Ga}from"./vendor-react-BuwH6fqj.js";import{C as be,V as m,T as x,D as ae,R as _t,B as wt,a as Ja,b as Vn,P as Ya,S as vs,F as C,c as qe,d as ce,e as Fe,A as ys,M as Ke}from"./vendor-reshaped-DaHIQrVt.js";import{M as ho,b as Za,o as Xa,p as hr,q as _s,r as Pt,s as Qa,t as It,l as rt,k as At,u as mr,v as pn,w as Tt,x as st,y as Qe,z as gr,B as mo,H as br,D as fn,F as ec,E as tc,m as nc,L as rc,J as sc,R as hn,K as go,N as bo,O as oc,Q as ic,U as ac,V as cc,W as xo,Y as vo,Z as lc,_ as dc,c as ws,$ as uc,a0 as pc}from"./vendor-octicons-BpazhUNY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Zt(e,t){const n={...e};for(const o of Object.keys(t)){const s=t[o],i=e[o];s!==null&&typeof s=="object"&&!Array.isArray(s)&&i!==null&&typeof i=="object"&&!Array.isArray(i)?n[o]=Zt(i,s):n[o]=s}return n}let ee={scenes:{},objects:{},records:{}};function fc(e){if(!e||typeof e!="object")throw new Error("[storyboard-core] init() requires { scenes, objects, records }");ee={scenes:e.scenes||{},objects:e.objects||{},records:e.records||{}}}function Kn(e,t){if(t&&ee[t]?.[e]!=null)return ee[t][e];if(!t){for(const n of["scenes","objects","records"])if(ee[n]?.[e]!=null)return ee[n][e]}if(t==="scenes"||!t){const n=e.toLowerCase();for(const o of Object.keys(ee.scenes))if(o.toLowerCase()===n)return ee.scenes[o]}throw new Error(`Data file not found: ${e}${t?` (type: ${t})`:""}`)}function bt(e,t=new Set){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(o=>bt(o,t));if(e.$ref&&typeof e.$ref=="string"){const o=e.$ref;if(t.has(o))throw new Error(`Circular $ref detected: ${o}`);t.add(o);const s=Kn(o,"objects");return bt(s,t)}const n={};for(const[o,s]of Object.entries(e))n[o]=bt(s,t);return n}function hc(e){if(ee.scenes[e]!=null)return!0;const t=e.toLowerCase();for(const n of Object.keys(ee.scenes))if(n.toLowerCase()===t)return!0;return!1}function mn(e="default"){let t;try{t=structuredClone(Kn(e,"scenes"))}catch{throw new Error(`Failed to load scene: ${e}`)}if(Array.isArray(t.$global)){const n=t.$global;delete t.$global;let o={};for(const s of n)try{let i=Kn(s);i=bt(i),o=Zt(o,i)}catch(i){console.warn(`Failed to load $global: ${s}`,i)}t=Zt(o,t)}return t=bt(t),structuredClone(t)}function xr(e){const t=ee.records[e];if(t==null)throw new Error(`Record not found: ${e}`);if(!Array.isArray(t))throw new Error(`Record "${e}" must be an array, got ${typeof t}`);return structuredClone(t)}function mc(e,t){return xr(e).find(o=>o.id===t)??null}function yo(e,t){if(e==null||typeof t!="string"||t==="")return;const n=t.split(".");let o=e;for(const s of n){if(o==null||typeof o!="object")return;o=o[s]}return o}function jt(e){if(Array.isArray(e))return e.map(jt);if(e!==null&&typeof e=="object"){const t={};for(const n of Object.keys(e))t[n]=jt(e[n]);return t}return e}function Xt(e,t,n){const o=t.split(".");let s=e;for(let i=0;i<o.length-1;i++){const a=o[i];(s[a]==null||typeof s[a]!="object")&&(s[a]=/^\d+$/.test(o[i+1])?[]:{}),s=s[a]}s[o[o.length-1]]=n}function gn(){const e=window.location.hash.replace(/^#/,"");return new URLSearchParams(e)}function _o(e){const t=e.toString();window.location.hash=t}function wo(e){return gn().get(e)}function Ae(e,t){const n=gn();n.set(e,String(t)),_o(n)}function jo(){const e=gn(),t={};for(const[n,o]of e.entries())t[n]=o;return t}function Qt(e){const t=gn();t.delete(e),_o(t)}const bn="storyboard:";function xn(e){try{return localStorage.getItem(bn+e)}catch{return null}}function J(e,t){try{localStorage.setItem(bn+e,String(t)),vr()}catch{}}function en(e){try{localStorage.removeItem(bn+e),vr()}catch{}}function So(e){const t=()=>{Co(),e()};return window.addEventListener("storage",t),window.addEventListener("storyboard-storage",t),()=>{window.removeEventListener("storage",t),window.removeEventListener("storyboard-storage",t)}}let mt=null;function Co(){mt=null}function Eo(){if(mt!==null)return mt;try{const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(bn)&&e.push(n+"="+localStorage.getItem(n))}return mt=e.sort().join("&"),mt}catch{return""}}function vr(){Co(),window.dispatchEvent(new Event("storyboard-storage"))}const yr="__hide__",tn="historyState",Ge="currentState",We="nextState",js=200;function Te(){return xn(yr)==="1"}function ko(){Rt(),J(yr,"1");const e=new URL(window.location.href);e.searchParams.delete("hide"),e.hash="",window.history.replaceState(window.history.state,"",e.toString())}function Io(){const e=Nt();if(e){window.location.hash="";const t=new URLSearchParams(e);for(const[n,o]of t.entries())Ae(n,o)}en(yr),vc("show")}function vn(){return window.location.pathname}function Ao(){return new URLSearchParams(window.location.hash.replace(/^#/,"")).toString()}function Rt(e,t){const n=e!==void 0?e:Ao(),o=t!==void 0?t:vn(),s=yn(),i=_n();if(i!==null&&s[i]){const[,d,p]=s[i];if(d===o&&p===n)return}const a=i!==null?s.slice(0,i+1):s,c=a.length,l=[c,o,n],u=[...a,l];if(u.length>js){const d=u.slice(u.length-js);for(let p=0;p<d.length;p++)d[p]=[p,d[p][1],d[p][2]];J(tn,JSON.stringify(d)),J(Ge,String(d.length-1))}else J(tn,JSON.stringify(u)),J(Ge,String(c));en(We)}function yn(){const e=xn(tn);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function _n(){const e=xn(Ge);if(e===null)return null;const t=parseInt(e,10);return Number.isNaN(t)?null:t}function gc(){const e=xn(We);if(e===null)return null;const t=parseInt(e,10);return Number.isNaN(t)?null:t}function Nt(){const e=_n();if(e===null)return null;const t=yn();return t[e]?t[e][2]:null}function To(){const e=_n();if(e===null)return null;const t=yn();return t[e]?t[e][1]:null}function Ro(e){const t=Nt();return t?new URLSearchParams(t).get(e):null}function Ss(e,t){const n=Nt()||"",o=new URLSearchParams(n);o.set(e,String(t)),Rt(o.toString(),To()||vn())}function Cs(e){const t=Nt()||"",n=new URLSearchParams(t);n.delete(e),Rt(n.toString(),To()||vn())}function bc(){const e=Nt();if(!e)return{};const t=new URLSearchParams(e),n={};for(const[o,s]of t.entries())n[o]=s;return n}function Es(){if(Te())return;const e=vn(),t=Ao(),n=yn(),o=_n();if(!t&&!e&&n.length===0)return;const s=n.findIndex(([,c,l])=>c===e&&l===t);if(s===-1){Rt(t,e);return}if(s===o)return;const i=o!==null?o-1:null,a=gc();if(i!==null&&s===i)J(We,String(o)),J(Ge,String(s));else if(a!==null&&s===a){const c=a+1;n[c]?J(We,String(c)):en(We),J(Ge,String(s))}else{en(We),J(Ge,String(s));const c=n.slice(0,s+1);J(tn,JSON.stringify(c))}vr()}function xc(){Rt(),window.addEventListener("hashchange",()=>Es()),window.addEventListener("popstate",()=>Es())}function vc(e){const t=new URL(window.location.href);t.searchParams.has(e)&&(t.searchParams.delete(e),window.history.replaceState(window.history.state,"",t.toString()))}function nn(){const e=new URL(window.location.href);if(e.searchParams.has("hide")){ko();return}if(e.searchParams.has("show")){Io();return}}function yc(){nn(),window.addEventListener("popstate",()=>nn())}function wn(e){return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)}function _r(){return window.location.hash}const _c="modulepreload",wc=function(e){return"/storyboard-source/"+e},ks={},M=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=l(n.map(u=>{if(u=wc(u),u in ks)return;ks[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":_c,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((g,_)=>{f.addEventListener("load",g),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};let Je=null;function jc(e,t={}){if(!e||!e.comments){Je=null;return}const n=e.comments,o=e.repository;Je={repo:{owner:o?.owner??"",name:o?.name??""},discussions:{category:n.discussions?.category??"Storyboard Comments"},basePath:t.basePath??"/"}}function jn(){return Je}function rn(){return Je!==null&&Je.repo.owner!==""&&Je.repo.name!==""}const Sc=`
.sb-devtools-wrapper {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 9999;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
}

.sb-devtools-trigger {
  display: flex;
  align-items: center;
  padding: 12px;
  background-color: #161b22;
  color: #8b949e;
  border: 1px solid #30363d;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  transition: opacity 150ms ease, transform 150ms ease;
  user-select: none;
}
.sb-devtools-trigger:hover { transform: scale(1.05); }
.sb-devtools-trigger:active { transform: scale(0.97); }
.sb-devtools-trigger svg { width: 16px; height: 16px; fill: currentColor; }

.sb-devtools-menu {
  position: absolute;
  bottom: 56px;
  right: 0;
  min-width: 200px;
  background-color: #161b22;
  border: 1px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  overflow: hidden;
  display: none;
}
.sb-devtools-menu.open { display: block; }

.sb-devtools-menu-item {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 16px;
  background: none;
  border: none;
  color: #c9d1d9;
  font-size: 14px;
  font-family: inherit;
  cursor: pointer;
  text-align: left;
}
.sb-devtools-menu-item:hover { background-color: #21262d; }
.sb-devtools-menu-item svg { width: 16px; height: 16px; fill: currentColor; flex-shrink: 0; }

.sb-devtools-hint {
  padding: 6px 16px 8px;
  font-size: 12px;
  color: #484f58;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
}

.sb-devtools-overlay {
  position: fixed;
  inset: 0;
  z-index: 9998;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 16px;
  padding-bottom: 80px;
}
.sb-devtools-backdrop {
  position: fixed;
  inset: 0;
  background: transparent;
}
.sb-devtools-panel {
  position: relative;
  width: 100%;
  max-width: 640px;
  max-height: 60vh;
  background-color: #0d1117;
  border: 1px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.sb-devtools-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid #21262d;
}
.sb-devtools-panel-title {
  font-size: 14px;
  font-weight: 600;
  color: #c9d1d9;
}
.sb-devtools-panel-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: none;
  border: none;
  border-radius: 6px;
  color: #8b949e;
  cursor: pointer;
}
.sb-devtools-panel-close:hover { background-color: #21262d; color: #c9d1d9; }
.sb-devtools-panel-close svg { width: 16px; height: 16px; fill: currentColor; }
.sb-devtools-panel-body {
  overflow: auto;
  padding: 16px;
}
.sb-devtools-code {
  padding: 0;
  margin: 0;
  background: none;
  font-size: 13px;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
  line-height: 1.5;
  color: #c9d1d9;
  white-space: pre-wrap;
  word-break: break-word;
}
.sb-devtools-error { color: #f85149; }
`,Cc='<svg viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 010-1.5h6.5a.75.75 0 010 1.5H11v3.282l3.666 5.86C15.619 13.04 14.552 15 12.46 15H3.54c-2.092 0-3.159-1.96-2.206-3.358zM6.5 2.5v3.782a.75.75 0 01-.107.384L3.2 12.5h9.6l-3.193-5.834A.75.75 0 019.5 6.282V2.5z"/></svg>',Ec='<svg viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>',kc='<svg viewBox="0 0 16 16"><path d="M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z"/></svg>',Ic='<svg viewBox="0 0 16 16"><path d="M8.5 1.75a.75.75 0 0 0-1.5 0V3H1.75a.75.75 0 0 0 0 1.5H3v6H1.75a.75.75 0 0 0 0 1.5H7v1.25a.75.75 0 0 0 1.5 0V12h5.25a.75.75 0 0 0 0-1.5H12v-6h1.75a.75.75 0 0 0 0-1.5H8.5Zm2 8.75h-5a.25.25 0 0 1-.25-.25v-4.5A.25.25 0 0 1 5.5 5.5h5a.25.25 0 0 1 .25.25v4.5a.25.25 0 0 1-.25.25Z"/></svg>',Ac='<svg viewBox="0 0 16 16"><path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"/></svg>',Tc='<svg viewBox="0 0 16 16"><path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14s-3.671-.992-4.933-2.078C1.797 10.831.88 9.577.43 8.899a1.62 1.62 0 0 1 0-1.798c.45-.678 1.367-1.932 2.637-3.023C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5s2.823-.742 3.955-1.715c1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5s-2.824.742-3.955 1.715c-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"/></svg>',Rc='<svg viewBox="0 0 16 16"><path d="M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.831.88 9.577.43 8.899a1.62 1.62 0 0 1 0-1.798c.35-.527 1.06-1.476 2.019-2.398L.31 3.357A.75.75 0 0 1 .143 2.31Zm3.386 3.378a14.21 14.21 0 0 0-1.85 2.244.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.39L3.529 5.688ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.23 6.23 0 0 1 8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.14-.191.26-.367.36-.524a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5Z"/></svg>';function Nc(){return new URLSearchParams(window.location.search).get("scene")||"default"}function Lc(e={}){const t=e.container||document.body,n=e.basePath||"/";if(t.querySelector(".sb-devtools-wrapper"))return;const o=document.createElement("style");o.textContent=Sc,document.head.appendChild(o);let s=!0,i=!1;const a=document.createElement("div");a.className="sb-devtools-wrapper";const c=document.createElement("button");c.className="sb-devtools-trigger",c.setAttribute("aria-label","Storyboard DevTools"),c.innerHTML=Cc;const l=document.createElement("div");l.className="sb-devtools-menu";const u=document.createElement("button");u.className="sb-devtools-menu-item",u.innerHTML=`${Ic} Viewfinder`;const d=document.createElement("button");d.className="sb-devtools-menu-item",d.innerHTML=`${Ec} Show scene info`;const p=document.createElement("button");p.className="sb-devtools-menu-item",p.innerHTML=`${kc} Reset all params`;const f=document.createElement("button");f.className="sb-devtools-menu-item";function g(){const S=Te();f.innerHTML=`${S?Tc:Rc} ${S?"Show mode":"Hide mode"}`}g();const _=document.createElement("div");_.className="sb-devtools-hint",_.innerHTML="Press <code>⌘ + .</code> to hide",l.appendChild(u),l.appendChild(d),l.appendChild(p),l.appendChild(f);function b(){l.querySelectorAll("[data-sb-comment-menu-item]").forEach(S=>S.remove()),rn()&&M(async()=>{const{getCommentsMenuItems:S}=await import("./CommentOverlay-DXyTCiPc.js");return{getCommentsMenuItems:S}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({getCommentsMenuItems:S})=>{const I=S(),P=_;for(const H of I){const q=document.createElement("button");q.className="sb-devtools-menu-item",q.setAttribute("data-sb-comment-menu-item",""),q.innerHTML=`<span style="width:16px;height:16px;display:flex;align-items:center;justify-content:center;">${H.icon}</span> ${H.label}`,q.addEventListener("click",()=>{i=!1,l.classList.remove("open"),H.onClick()}),l.insertBefore(q,P)}})}c.addEventListener("click",()=>{b(),g()}),l.appendChild(_),a.appendChild(l),a.appendChild(c),t.appendChild(a);let h=null;function v(){i=!1,l.classList.remove("open"),h&&h.remove();const S=Nc();let I="",P=null;try{I=JSON.stringify(mn(S),null,2)}catch(we){P=we.message}h=document.createElement("div"),h.className="sb-devtools-overlay";const H=document.createElement("div");H.className="sb-devtools-backdrop",H.addEventListener("click",j);const q=document.createElement("div");q.className="sb-devtools-panel";const ue=document.createElement("div");ue.className="sb-devtools-panel-header",ue.innerHTML=`<span class="sb-devtools-panel-title">Scene: ${S}</span>`;const te=document.createElement("button");te.className="sb-devtools-panel-close",te.setAttribute("aria-label","Close panel"),te.innerHTML=Ac,te.addEventListener("click",j),ue.appendChild(te);const pe=document.createElement("div");if(pe.className="sb-devtools-panel-body",P)pe.innerHTML=`<span class="sb-devtools-error">${P}</span>`;else{const we=document.createElement("pre");we.className="sb-devtools-code",we.textContent=I,pe.appendChild(we)}q.appendChild(ue),q.appendChild(pe),h.appendChild(H),h.appendChild(q),t.appendChild(h)}function j(){h&&(h.remove(),h=null)}c.addEventListener("click",()=>{i=!i,l.classList.toggle("open",i)}),d.addEventListener("click",v),u.addEventListener("click",()=>{i=!1,l.classList.remove("open"),window.location.href=n+"viewfinder"}),p.addEventListener("click",()=>{window.location.hash="",i=!1,l.classList.remove("open")}),f.addEventListener("click",()=>{Te()?Io():ko(),g(),i=!1,l.classList.remove("open")}),document.addEventListener("click",S=>{i&&!a.contains(S.target)&&(i=!1,l.classList.remove("open"))}),window.addEventListener("keydown",S=>{S.key==="."&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),s=!s,a.style.display=s?"":"none",s||(i=!1,l.classList.remove("open"),j()))})}function Oc(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return Math.abs(t)}function $c(e,t=[]){for(const n of t)if(n.toLowerCase()===e.toLowerCase())return`/${n}`;try{const n=mn(e),o=n?.sceneMeta?.route||n?.route;if(o)return`${o.startsWith("/")?o:`/${o}`}?scene=${encodeURIComponent(e)}`}catch{}return`/?scene=${encodeURIComponent(e)}`}function Pc(e){try{return mn(e)?.sceneMeta||null}catch{return null}}const Mc={sceneMeta:{route:"/example",author:"dfosco"},navigation:{$ref:"navigation"},user:{name:"John Doe",username:"johndoe",role:"admin",avatar:"https://avatars.githubusercontent.com/u/1?v=4",profile:{bio:"Designer & developer",location:"San Francisco, CA"}},projects:[{id:1,name:"primer-react",description:"React components for the Primer Design System",owner:{name:"GitHub",avatar:"https://avatars.githubusercontent.com/u/9919?v=4"},stars:2500,issues:42},{id:2,name:"storyboard",description:"Prototyping meta-framework",owner:{name:"Jane Doe",avatar:"https://avatars.githubusercontent.com/u/1?v=4"},stars:128,issues:7}],settings:{theme:"dark_dimmed",notifications:!0,language:"en"}},Dc={sceneMeta:{route:"/example",author:"dfosco"},user:{$ref:"jane-doe"},navigation:{$ref:"navigation"},projects:[{id:1,name:"primer-react",description:"React components for the Primer Design System",owner:{name:"GitHub",avatar:"https://avatars.githubusercontent.com/u/9919?v=4"},stars:2500,issues:42},{id:2,name:"storyboard",description:"Prototyping meta-framework",owner:{name:"Jane Doe",avatar:"https://avatars.githubusercontent.com/u/1?v=4"},stars:128,issues:7}],settings:{theme:"dark_dimmed",notifications:!0,language:"en"},signup:{fullName:"",email:"",password:"",organization:{name:"",size:"",role:""},workspace:{region:"",plan:"starter",newsletter:!1,agreeTerms:!1}}},Bc={sceneMeta:{author:"dfosco"},$global:["finch-pearl-navigation"],repositories:{$ref:"finch-pearl-repositories"}},zc={topnav:[{icon:"code",label:"Code",url:"#"},{icon:"issue-opened",label:"Issues",url:"#"},{icon:"git-pull-request",label:"Pull requests",url:"#"},{icon:"people",label:"Agents",url:"#"},{icon:"play",label:"Actions",url:"#"},{icon:"project",label:"Projects",url:"#"},{icon:"star",label:"Models",url:"#"},{icon:"book",label:"Wiki",url:"#"},{icon:"shield",label:"Security",url:"#",counter:95,current:!0},{icon:"graph",label:"Insights",url:"#"},{icon:"gear",label:"Settings",url:"#"}]},Hc={primary:[{label:"Overview",url:"/Overview",icon:"home"},{label:"Issues",url:"/Issues",icon:"issue-opened"},{label:"Pull Requests",url:"#",icon:"git-pull-request"},{label:"Discussions",url:"#",icon:"comment-discussion"}],secondary:[{label:"Settings",url:"#",icon:"gear"},{label:"Help",url:"#",icon:"question"}]},Fc={name:"Jane Doe",username:"janedoe",role:"admin",avatar:"https://avatars.githubusercontent.com/u/1?v=4",profile:{bio:"Designer & developer",location:"San Francisco, CA"}},Uc={topnav:[{icon:"home",label:"Overview",url:"/Overview"},{icon:"repo",label:"Repositories",url:"/Repositories",counter:"5k+",current:!0},{icon:"project",label:"Projects",url:"#",counter:25},{icon:"package",label:"Packages",url:"#",counter:21},{icon:"people",label:"Teams",url:"#",counter:132},{icon:"person",label:"People",url:"#",counter:571},{icon:"shield",label:"Security",url:"#"},{icon:"graph",label:"Insights",url:"#"},{icon:"gear",label:"Settings",url:"#"}],sidenav:[{label:"All",url:"#",icon:"repo",current:!0},{label:"Contributed by me",url:"#",icon:"git-pull-request"},{label:"Adminable by me",url:"#",icon:"person"},{label:"Public",url:"#",icon:"eye"},{label:"Internal",url:"#",icon:"lock"},{label:"Private",url:"#",icon:"lock"},{label:"Sources",url:"#",icon:"code"},{label:"Forks",url:"#",icon:"repo-forked"},{label:"Archived",url:"#",icon:"archive"},{label:"Templates",url:"#",icon:"repo-template"}]},qc=[{id:"refactor-auth-sso",identifier:"FIL-10",title:"Refactor authentication flow to support SSO providers",description:"Our current auth flow only supports email/password login. We need to extend it to support SSO providers (Google, Okta, Azure AD) for enterprise customers.",status:"todo",priority:"high",labels:["Auth","Backend","Feature"],assignee:null,project:null,estimate:5,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-17T10:50:00Z",acceptanceCriteria:["Users can authenticate via Google OAuth 2.0","Users can authenticate via SAML-based SSO (Okta, Azure AD)","Existing email/password flow remains unchanged","Session tokens are issued consistently regardless of auth method","Admin panel includes SSO configuration settings"],technicalNotes:["Use the existing AuthService class as the base","Add a provider strategy pattern to abstract login methods","Store provider metadata in the identity_providers table","Redirect URI callback must handle both web and mobile clients"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"10min ago"}]},{id:"fix-rate-limiter-bypass",identifier:"FIL-9",title:"Fix rate limiter bypass on batch endpoints",description:"The rate limiter can be bypassed by splitting a large request into multiple smaller batch calls. Each sub-request is counted as a single hit instead of being weighted by payload size.",status:"in_progress",priority:"urgent",labels:["Bug","Security","Backend"],assignee:"danielfosco",assigneeAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",project:"Platform Infrastructure",estimate:3,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-16T14:20:00Z",acceptanceCriteria:["Batch endpoints count each item in the payload toward the rate limit","Rate limit headers reflect weighted counts","Existing single-request endpoints are unaffected"],technicalNotes:["Update RateLimiterMiddleware to accept a weight function","Batch controller should pass payload.length as weight","Add integration tests for weighted rate limiting"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"1 day ago"},{type:"comment",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"6 hours ago",body:"Started investigating — the middleware doesn't have access to parsed body at the point it runs. May need to restructure."}]},{id:"add-webhook-retry-logic",identifier:"FIL-8",title:"Add exponential backoff retry logic for webhook deliveries",description:"Webhook deliveries currently fail silently on timeout. We need retry logic with exponential backoff and a dead-letter queue for persistently failing endpoints.",status:"todo",priority:"medium",labels:["Feature","Backend"],assignee:null,project:"Platform Infrastructure",estimate:8,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-15T09:00:00Z",acceptanceCriteria:["Failed webhook deliveries are retried up to 5 times","Retry intervals follow exponential backoff (1s, 2s, 4s, 8s, 16s)","After all retries, the event is moved to a dead-letter queue","Delivery status is visible in the admin dashboard"],technicalNotes:["Use the existing job queue (BullMQ) for retry scheduling","Add a webhook_deliveries table to track attempts","Dead-letter events should be replayable from the admin UI"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"2 days ago"}]},{id:"dashboard-loading-skeleton",identifier:"FIL-7",title:"Add loading skeletons to dashboard widgets",description:"Dashboard widgets show a blank space while data is loading. Add skeleton loaders to improve perceived performance.",status:"done",priority:"low",labels:["Feature","Frontend"],assignee:"danielfosco",assigneeAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",project:"Dashboard",estimate:2,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-12T16:30:00Z",acceptanceCriteria:["All dashboard cards show skeleton loaders while fetching data","Skeleton matches the shape of the loaded content","Transition from skeleton to content is smooth"],technicalNotes:["Use Reshaped Skeleton component","Wrap each StatCard in a loading boundary"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"5 days ago"},{type:"comment",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"3 days ago",body:"Done — merged in FIL-7-skeletons branch."}]},{id:"migrate-env-config",identifier:"FIL-6",title:"Migrate environment config to typed schema validation",description:"Environment variables are currently accessed via raw process.env lookups with no validation. Migrate to a typed config schema using zod so missing or malformed values are caught at startup.",status:"todo",priority:"medium",labels:["Backend","DevEx"],assignee:null,project:null,estimate:3,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-10T11:00:00Z",acceptanceCriteria:["All environment variables are defined in a single config schema","Server fails fast on startup if required variables are missing","Types are inferred from the schema — no manual type assertions"],technicalNotes:["Use zod for schema definition and parsing","Create src/config.ts as the single source of truth","Replace all process.env.X references with config.X"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"1 week ago"}]}],Wc=[{id:"welcome-to-storyboard",title:"Welcome to Storyboard",date:"2026-02-14",author:"Jane Doe",summary:"An introduction to building prototypes with Storyboard — the meta-framework for design system exploration.",body:`Storyboard is a prototyping meta-framework that lets you build interactive UI prototypes powered by real data. Instead of hard-coding sample content, you define data files that feed into your pages automatically.

Each page can load a scene (its data context), reference shared objects, and even render parameterized content from record collections — like this very blog post.

Get started by creating a \`.scene.json\` file and a page component. The data flows in, and you focus on the design.`},{id:"data-driven-prototyping",title:"Data-Driven Prototyping",date:"2026-02-13",author:"Jane Doe",summary:"How scenes, objects, and records work together to power realistic prototypes.",body:`Traditional prototyping tools force you to duplicate content across screens. Storyboard takes a different approach: your data lives in JSON files, and pages consume it through hooks.

**Scenes** provide the full data context for a page. **Objects** are reusable fragments — a user profile, a navigation config — that scenes reference via \`$ref\`. **Records** are collections that power parameterized pages, like blog posts or product listings.

This separation means you can swap data without touching UI code, test edge cases by editing JSON, and share data fragments across multiple pages.`},{id:"design-system-exploration",title:"Exploring Design Systems",date:"2026-02-12",author:"Jane Doe",summary:"Using Storyboard to explore and compare design systems like Primer and Reshaped.",body:`One of Storyboard's strengths is its design system agnosticism. While it ships with Primer React as the default, you can bring any design system — Reshaped, Radix, Chakra, or your own.

Each page is independent: one page can use Primer components while another uses Reshaped. This makes Storyboard ideal for comparing design systems side by side, exploring component APIs, and building proof-of-concept pages before committing to a system.

The key is that the data layer stays the same regardless of which components render it.`}],wr={"other-scene":Mc,default:Dc,Repositories:Bc},Vc={"security-advisory-navigation":zc,navigation:Hc,"jane-doe":Fc,"finch-pearl-navigation":Uc},Kc={issues:qc,posts:Wc};fc({scenes:wr,objects:Vc,records:Kc});const Sn=w.createContext(null);function Gc(e){const t=e.replace(/\/+$/,"")||"/";return t==="/"?"index":t.split("/").pop()||"index"}function Jc({sceneName:e,recordName:t,recordParam:n,children:o}){const s=uo(),i=new URLSearchParams(s.search).get("scene"),a=Gc(s.pathname),c=i||e||(hc(a)?a:"default"),l=po(),{data:u,error:d}=w.useMemo(()=>{try{let f=mn(c);if(t&&n&&l[n]){const g=mc(t,l[n]);g&&(f=Zt(f,{record:g}))}return{data:f,error:null}}catch(f){return{data:null,error:f.message}}},[c,t,n,l,s.pathname]),p={data:u,error:d,loading:!1,sceneName:c};return d?r.jsxs("span",{style:{color:"var(--fgColor-danger, #f85149)"},children:["Error loading scene: ",d]}):r.jsx(Sn.Provider,{value:p,children:o})}function F(e){const t=w.useContext(Sn);if(t===null)throw new Error("useSceneData must be used within a <StoryboardProvider>");const{data:n,loading:o,error:s}=t,i=w.useSyncExternalStore(wn,_r),a=w.useSyncExternalStore(So,Eo);return w.useMemo(()=>{if(o||s||n==null)return;const l=Te(),u=l?Ro:wo,d=l?bc:jo;if(!e){const h=d(),v=Object.keys(h);if(v.length===0)return n;const j=jt(n);for(const S of v)Xt(j,S,h[S]);return j}const p=u(e);if(p!==null)return p;const f=e+".",g=d(),_=Object.keys(g).filter(h=>h.startsWith(f)),b=yo(n,e);if(_.length>0&&b!==void 0){const h=jt(b);for(const v of _){const j=v.slice(f.length);Xt(h,j,g[v])}return h}return b===void 0?(console.warn(`[useSceneData] Path "${e}" not found in scene data.`),{}):b},[n,o,s,e,i,a])}function E(e){const t=w.useContext(Sn);if(t===null)throw new Error("useOverride must be used within a <StoryboardProvider>");const{data:n}=t,o=Te(),s=n!=null?yo(n,e):void 0,i=w.useCallback(()=>wo(e),[e]),a=w.useSyncExternalStore(wn,i);w.useSyncExternalStore(So,Eo);let c;if(o){const d=Ro(e);c=d!==null?d:s}else c=a!==null?a:s;const l=w.useCallback(d=>{Te()||Ae(e,d),Ss(e,d)},[e]),u=w.useCallback(()=>{Te()||Qt(e),Cs(e)},[e]);return[c,l,u]}function Yc(){const e=w.useContext(Sn);if(e===null)throw new Error("useScene must be used within a <StoryboardProvider>");const t=w.useCallback(n=>{const o=new URL(window.location.href);o.searchParams.set("scene",n),window.location.href=o.toString()},[]);return{sceneName:e.sceneName,switchScene:t}}function No(e,t){const n=jo(),o=`record.${t}.`,s=Object.keys(n).filter(c=>c.startsWith(o));if(s.length===0)return e;const i=jt(e),a={};for(const c of s){const l=c.slice(o.length),u=l.indexOf(".");if(u===-1)continue;const d=l.slice(0,u),p=l.slice(u+1);a[d]||(a[d]={}),a[d][p]=n[c]}for(const[c,l]of Object.entries(a)){const u=i.find(d=>d.id===c);if(u)for(const[d,p]of Object.entries(l))Xt(u,d,p);else{const d={id:c};for(const[p,f]of Object.entries(l))Xt(d,p,f);i.push(d)}}return i}function Lo(e,t="id"){const o=po()[t],s=w.useSyncExternalStore(wn,_r);return w.useMemo(()=>{if(!o)return null;try{const i=xr(e);return No(i,e).find(c=>c[t]===o)??null}catch(i){return console.error(`[useRecord] ${i.message}`),null}},[e,t,o,s])}function Oo(e){const t=w.useSyncExternalStore(wn,_r);return w.useMemo(()=>{try{const n=xr(e);return No(n,e)}catch(n){return console.error(`[useRecords] ${n.message}`),[]}},[e,t])}function je(e,t,n){return E(`record.${e}.${t}.${n}`)}function Zc(e,t=""){const n=t.replace(/\/+$/,"");document.addEventListener("click",s=>{if(s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)return;const i=s.target.closest("a[href]");if(!i||i.target==="_blank")return;const a=new URL(i.href,window.location.origin);if(a.origin!==window.location.origin)return;const c=window.location.hash,l=c&&c!=="#",d=a.hash&&a.hash!=="#"?a.hash:l?c:"";let p=a.pathname;n&&p.startsWith(n)&&(p=p.slice(n.length)||"/"),s.preventDefault(),e.navigate(p+a.search+d),setTimeout(nn,0)});const o=e.navigate.bind(e);e.navigate=(s,i)=>{const a=window.location.hash;return a&&a!=="#"&&typeof s=="string"&&!s.includes("#")&&(s=s+a),o(s,i).then(l=>(nn(),l))}}const Lt=w.createContext(null),Xc="_container_16yqd_1",Qc="_header_16yqd_8",el="_title_16yqd_13",tl="_subtitle_16yqd_21",nl="_grid_16yqd_27",rl="_card_16yqd_35",sl="_thumbnail_16yqd_52",ol="_cardBody_16yqd_72",il="_sceneName_16yqd_77",al="_empty_16yqd_84",cl="_sectionTitle_16yqd_93",ll="_branchSection_16yqd_103",dl="_branchMeta_16yqd_107",ul="_author_16yqd_114",pl="_authorAvatar_16yqd_121",fl="_authorName_16yqd_127",$={container:Xc,header:Qc,title:el,subtitle:tl,grid:nl,card:rl,thumbnail:sl,cardBody:ol,sceneName:il,empty:al,sectionTitle:cl,branchSection:ll,branchMeta:dl,author:ul,authorAvatar:pl,authorName:fl};function Is({name:e}){const t=Oc(e),n=[];for(let s=0;s<12;s++){const i=t*(s+1),a=(i*7+s*31)%320,c=(i*13+s*17)%200,l=20+i*(s+3)%80,u=8+i*(s+7)%40,d=.06+i*(s+2)%20/100,p=s%3===0?"var(--placeholder-accent)":s%3===1?"var(--placeholder-fg)":"var(--placeholder-muted)";n.push(r.jsx("rect",{x:a,y:c,width:l,height:u,rx:2,fill:p,opacity:d},s))}const o=[];for(let s=0;s<6;s++){const a=10+t*(s+5)%180;o.push(r.jsx("line",{x1:0,y1:a,x2:320,y2:a,stroke:"var(--placeholder-grid)",strokeWidth:.5,opacity:.4},`h${s}`))}for(let s=0;s<8;s++){const a=10+t*(s+9)%300;o.push(r.jsx("line",{x1:a,y1:0,x2:a,y2:200,stroke:"var(--placeholder-grid)",strokeWidth:.5,opacity:.3},`v${s}`))}return r.jsxs("svg",{viewBox:"0 0 320 200",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[r.jsx("rect",{width:"320",height:"200",fill:"var(--placeholder-bg)"}),o,n]})}function $o({scenes:e={},pageModules:t={},basePath:n,title:o="Viewfinder"}){const[s,i]=w.useState(null),a=w.useMemo(()=>Object.keys(e),[e]),c=w.useMemo(()=>Object.keys(t).map(u=>u.replace("/src/pages/","").replace(".jsx","")).filter(u=>!u.startsWith("_")&&u!=="index"&&u!=="viewfinder"),[t]),l=w.useMemo(()=>(n||"/storyboard-source/").replace(/\/branch--[^/]*\/$/,"/"),[n]);return w.useEffect(()=>{const u=`${l}branches.json`;fetch(u).then(d=>d.ok?d.json():[]).then(d=>i(Array.isArray(d)?d:[])).catch(()=>i([]))},[l]),r.jsxs("div",{className:$.container,children:[r.jsxs("header",{className:$.header,children:[r.jsx("h1",{className:$.title,children:o}),r.jsxs("p",{className:$.subtitle,children:[a.length," scene",a.length!==1?"s":"",s&&s.length>0?` · ${s.length} branch preview${s.length!==1?"s":""}`:""]})]}),a.length===0?r.jsxs("p",{className:$.empty,children:["No scenes found. Add a ",r.jsx("code",{children:"*.scene.json"})," file to get started."]}):r.jsxs("section",{children:[r.jsx("h2",{className:$.sectionTitle,children:"Scenes"}),r.jsx("div",{className:$.grid,children:a.map(u=>{const d=Pc(u);return r.jsxs("a",{href:$c(u,c),className:$.card,children:[r.jsx("div",{className:$.thumbnail,children:r.jsx(Is,{name:u})}),r.jsxs("div",{className:$.cardBody,children:[r.jsx("p",{className:$.sceneName,children:u}),d?.author&&r.jsxs("div",{className:$.author,children:[r.jsx("img",{src:`https://github.com/${d.author}.png?size=32`,alt:d.author,className:$.authorAvatar}),r.jsx("span",{className:$.authorName,children:d.author})]})]})]},u)})})]}),s&&s.length>0&&r.jsxs("section",{className:$.branchSection,children:[r.jsx("h2",{className:$.sectionTitle,children:"Branch Previews"}),r.jsx("div",{className:$.grid,children:s.map(u=>r.jsxs("a",{href:`${l}${u.folder}/`,className:$.card,children:[r.jsx("div",{className:$.thumbnail,children:r.jsx(Is,{name:u.branch})}),r.jsxs("div",{className:$.cardBody,children:[r.jsx("p",{className:$.sceneName,children:u.branch}),r.jsx("p",{className:$.branchMeta,children:u.folder})]})]},u.folder))})]})]})}function hl(){return r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"var(--bgColor-default, #0d1117)"},children:[r.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 0.8s linear infinite"},children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"var(--fgColor-muted, #484f58)",strokeWidth:"2.5",opacity:"0.25"}),r.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"var(--fgColor-default, #e6edf3)",strokeWidth:"2.5",strokeLinecap:"round"})]}),r.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg) } }"})]})}function ml(){return r.jsx(Jc,{children:r.jsx(w.Suspense,{fallback:r.jsx(hl,{}),children:r.jsx(fo,{})})})}const jr=Object.freeze(Object.defineProperty({__proto__:null,default:ml},Symbol.toStringTag,{value:"Module"})),gl="_navItem_ec50i_1",bl="_active_ec50i_16",As={navItem:gl,active:bl},xl=[{label:"Overview",path:"/Dashboard"},{label:"Issues",path:"/issues"},{label:"Projects",path:"/Dashboard"},{label:"Views",path:"/Dashboard"}];function sn({orgName:e,activePage:t,userInfo:n}){const o=fr();return r.jsx(be,{padding:4,children:r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(x,{variant:"featured-3",weight:"bold",children:e||"—"}),r.jsx(ae,{}),r.jsx("nav",{children:r.jsx(m,{direction:"column",gap:0,children:xl.map(s=>r.jsx("button",{type:"button",className:`${As.navItem} ${t===s.label?As.active:""}`,onClick:()=>o(s.path),children:r.jsx(x,{variant:"body-3",weight:t===s.label?"bold":"regular",children:s.label})},s.label))})}),n&&r.jsxs(r.Fragment,{children:[r.jsx(ae,{}),r.jsxs(m,{direction:"column",gap:1,paddingTop:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:n.name||"—"}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:n.role||"—"})]})]})]})})}function ze(e){return e==null||e===""?"—":String(e)}function Mt({label:e,value:t,change:n,color:o}){return r.jsx(be,{padding:5,children:r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(x,{variant:"body-3",color:"neutral-faded",children:e}),r.jsx(x,{variant:"featured-2",weight:"bold",children:t}),r.jsx(x,{variant:"caption-1",color:o||"positive",children:n})]})})}function dt({label:e,value:t,max:n,color:o}){return r.jsxs(m,{direction:"column",gap:1,children:[r.jsxs(m,{direction:"row",justify:"space-between",children:[r.jsx(x,{variant:"body-3",children:e}),r.jsx(x,{variant:"body-3",weight:"medium",children:t})]}),r.jsx(Ya,{value:typeof n=="number"?parseFloat(t)/n*100:parseFloat(t),color:o,size:"small",attributes:{"aria-label":e}})]})}const vl=[{label:"Team standup",time:"Today, 10:00"},{label:"Architecture review",time:"Today, 11:30"},{label:"Lunch",time:"Today, 12:30"},{label:"Sprint planning",time:"Today, 14:00"},{label:"Deploy v2.4",time:"Today, 17:00"}];function yl(){const e=F("signup.fullName"),t=F("signup.organization.name"),n=F("signup.organization.size"),o=F("signup.organization.role"),s=F("signup.workspace.region"),i=F("signup.workspace.plan");return r.jsx(_t,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(sn,{orgName:ze(t),activePage:"Overview",userInfo:{name:ze(e),role:ze(o)}})}),r.jsx(m.Item,{columns:10,direction:"column",align:"center",justify:"center",children:r.jsxs(m,{direction:"column",maxWidth:"80%",gap:4,children:[r.jsxs(m,{direction:"row",justify:"space-between",align:"center",children:[r.jsx(x,{variant:"featured-2",weight:"bold",children:"Overview"}),r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsxs(wt,{color:"positive",children:[ze(i)," plan"]}),r.jsx(wt,{variant:"faded",children:ze(s)})]})]}),r.jsxs(m,{direction:"row",gap:3,children:[r.jsx(m.Item,{columns:3,children:r.jsx(Mt,{label:"Active Users",value:"0",change:"No data yet",color:"neutral-faded"})}),r.jsx(m.Item,{columns:3,children:r.jsx(Mt,{label:"Deployments",value:"0",change:"No data yet",color:"neutral-faded"})}),r.jsx(m.Item,{columns:3,children:r.jsx(Mt,{label:"New Members",value:"1",change:"That's you!",color:"primary"})}),r.jsx(m.Item,{columns:3,children:r.jsx(Mt,{label:"Team Size",value:ze(n),change:"Current plan capacity",color:"primary"})})]}),r.jsxs(m,{direction:"row",gap:4,children:[r.jsx(m.Item,{columns:5,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(be,{padding:4,children:r.jsx(Ja,{})}),r.jsx(be,{padding:5,children:r.jsxs(m,{direction:"column",gap:3,children:[r.jsx(x,{variant:"body-2",weight:"bold",children:"Schedule"}),r.jsx(m,{direction:"column",gap:2,children:vl.map(a=>r.jsx(Vn,{name:`schedule-${a.label}`,children:r.jsxs(m,{direction:"column",children:[r.jsx(x,{variant:"body-3",children:a.label}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:a.time})]})},a.label))})]})})]})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(be,{padding:5,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(x,{variant:"body-2",weight:"bold",children:"Metrics"}),r.jsx(dt,{label:"Performance",value:"0",max:100,color:"neutral-faded"}),r.jsx(dt,{label:"Monthly revenue goal",value:"0",max:100,color:"neutral-faded"}),r.jsx(dt,{label:"Error rate",value:"0",max:100,color:"neutral-faded"}),r.jsx(dt,{label:"User acquisition",value:"0",max:100,color:"neutral-faded"}),r.jsx(dt,{label:"Releases shipped",value:"0",max:100,color:"neutral-faded"})]})}),r.jsx(be,{padding:5,children:r.jsxs(m,{direction:"column",gap:3,children:[r.jsx(x,{variant:"body-2",weight:"bold",children:"Recent activity"}),r.jsx(ae,{}),r.jsxs(m,{direction:"column",gap:4,align:"center",paddingBlock:6,children:[r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"No activity yet"}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Deployments and events will appear here once your workspace is active."})]})]})})]})})]})]})})]})})})}const Sr=Object.freeze(Object.defineProperty({__proto__:null,default:yl},Symbol.toStringTag,{value:"Module"})),_l="/storyboard-source/assets/mona-loading-a6vFIHDd.gif",wl="_container_1dofh_1",jl="_contentBox_1dofh_12",Sl="_codeLine_1dofh_21",Cl="_iconWrapper_1dofh_26",El="_codeText_1dofh_32",kl="_monaWrapper_1dofh_39",Il="_footerHeader_1dofh_45",Al="_tipsText_1dofh_50",Tl="_warningText_1dofh_55",ie={container:wl,contentBox:jl,codeLine:Sl,iconWrapper:Cl,codeText:El,monaWrapper:kl,footerHeader:Il,tipsText:Al,warningText:Tl};function xt({name:e,onChange:t,value:n,...o}){const s=w.useContext(Lt),i=s?.prefix&&e?`${s.prefix}.${e}`:e,[a]=E(i||""),[c,l]=w.useState(a??""),u=!!s&&!!e;w.useEffect(()=>{if(u)return s.subscribe(e,f=>l(f))},[u,s,e]),w.useEffect(()=>{u&&a!=null&&(l(a),s.setDraft(e,a))},[]);const d=f=>{u&&(l(f.target.value),s.setDraft(e,f.target.value)),t&&t(f)},p=u?c:n;return r.jsx(Kt,{name:e,value:p,onChange:d,...o})}function Se({name:e,onChange:t,value:n,children:o,...s}){const i=w.useContext(Lt),a=i?.prefix&&e?`${i.prefix}.${e}`:e,[c]=E(a||""),[l,u]=w.useState(c??""),d=!!i&&!!e;w.useEffect(()=>{if(d)return i.subscribe(e,g=>u(g))},[d,i,e]),w.useEffect(()=>{d&&c!=null&&(u(c),i.setDraft(e,c))},[]);const p=g=>{d&&(u(g.target.value),i.setDraft(e,g.target.value)),t&&t(g)},f=d?l:n;return r.jsx(lo,{name:e,value:f,onChange:p,...s,children:o})}Se.Option=lo.Option;function Rl({name:e,onChange:t,checked:n,...o}){const s=w.useContext(Lt),i=s?.prefix&&e?`${s.prefix}.${e}`:e,[a]=E(i||""),c=a==="true"||a===!0,[l,u]=w.useState(c),d=!!s&&!!e;w.useEffect(()=>{if(d)return s.subscribe(e,g=>u(g==="true"||g===!0))},[d,s,e]),w.useEffect(()=>{if(d&&a!=null){const g=a==="true"||a===!0;u(g),s.setDraft(e,g?"true":"false")}},[]);const p=g=>{d&&(u(g.target.checked),s.setDraft(e,g.target.checked?"true":"false")),t&&t(g)},f=d?l:n;return r.jsx(Pa,{name:e,checked:f,onChange:p,...o})}function Po({name:e,onChange:t,value:n,...o}){const s=w.useContext(Lt),i=s?.prefix&&e?`${s.prefix}.${e}`:e,[a]=E(i||""),[c,l]=w.useState(a??""),u=!!s&&!!e;w.useEffect(()=>{if(u)return s.subscribe(e,f=>l(f))},[u,s,e]),w.useEffect(()=>{u&&a!=null&&(l(a),s.setDraft(e,a))},[]);const d=f=>{u&&(l(f.target.value),s.setDraft(e,f.target.value)),t&&t(f)},p=u?c:n;return r.jsx(Ma,{name:e,value:p,onChange:d,...o})}function Mo({data:e,onSubmit:t,children:n,...o}){const s=e||null,i=w.useRef({}),a=w.useRef({}),c=w.useCallback(f=>i.current[f],[]),l=w.useCallback((f,g)=>{i.current[f]=g;const _=a.current[f];_&&_(g)},[]),u=w.useCallback((f,g)=>(a.current[f]=g,()=>{delete a.current[f]}),[]),d=f=>{if(f.preventDefault(),s)for(const[g,_]of Object.entries(i.current))Ae(`${s}.${g}`,_);t&&t(f)},p={prefix:s,getDraft:c,setDraft:l,subscribe:u};return r.jsx(Lt.Provider,{value:p,children:r.jsx("form",{...o,onSubmit:d,children:n})})}const Nl="_container_1ykvj_1",Ll="_title_1ykvj_5",Ol="_codeBlock_1ykvj_11",$l="_form_1ykvj_38",He={container:Nl,title:Ll,codeBlock:Ol,form:$l};function Pl(){const[e,t,n]=E("user.name"),[o,s,i]=E("user.username"),[a,,c]=E("user.profile.bio"),[l,,u]=E("user.profile.location"),{sceneName:d,switchScene:p}=Yc(),f=d==="default"?"other-scene":"default",g=()=>{n(),i(),c(),u()};return r.jsxs("div",{className:He.container,children:[r.jsx("h2",{className:He.title,children:"useOverride Demo"}),r.jsxs("p",{children:["Add ",r.jsx("code",{children:"#user.name=Alice"})," to the URL hash to override any value."]}),r.jsxs("section",{children:[r.jsx(L,{as:"h3",fontWeight:"bold",children:"Scene"}),r.jsxs("pre",{className:He.codeBlock,children:["current: ",d]}),r.jsxs(oe,{size:"small",onClick:()=>p(f),children:['Switch to "',f,'"']})]}),r.jsxs("section",{children:[r.jsx(L,{as:"h3",fontWeight:"bold",children:"User"}),r.jsxs("pre",{className:He.codeBlock,children:[e," (",o,")"]}),r.jsxs("pre",{className:He.codeBlock,children:[a," · ",l]}),r.jsx(L,{as:"h4",fontWeight:"semibold",fontSize:1,children:"Switch User"}),r.jsxs(Da,{children:[r.jsx(oe,{size:"small",onClick:()=>t("Alice Chen"),children:"Update name"}),r.jsx(oe,{size:"small",onClick:()=>s("alice123"),children:"Update username"})]}),r.jsx(oe,{size:"small",variant:"danger",onClick:g,style:{marginLeft:"8px"},children:"Reset"})]}),r.jsx("a",{href:"/storyboard-source/Overview",children:"hello"}),r.jsxs("section",{children:[r.jsx(L,{as:"h3",fontWeight:"bold",children:"Edit User"}),r.jsxs(Mo,{data:"user",className:He.form,children:[r.jsxs(z,{children:[r.jsx(z.Label,{children:"Name"}),r.jsx(xt,{name:"name",placeholder:"Name",size:"small"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Username"}),r.jsx(xt,{name:"username",placeholder:"Username",size:"small"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Bio"}),r.jsx(Po,{name:"profile.bio",placeholder:"Bio"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Location"}),r.jsx(xt,{name:"profile.location",placeholder:"Location",size:"small"})]}),r.jsx(oe,{type:"submit",size:"small",children:"Save"})]})]})]})}function Ml(){return r.jsxs("div",{className:ie.container,children:[r.jsx(ho,{size:24}),r.jsx(Pl,{}),r.jsxs(V,{padding:"spacious",className:ie.contentBox,children:[r.jsx(Ts,{icon:Za,iconColor:"success.fg",children:"Mona's playground successfully initialised..."}),r.jsxs(Ts,{icon:Xa,iconColor:"accent.fg",children:["Visit ",r.jsx(L,{className:ie.warningText,children:"src/Playground.js"})," ","and start building your own layouts using Primer."]}),r.jsx("div",{className:ie.monaWrapper,children:r.jsx("img",{src:_l,alt:"mona",width:48,height:48})})]}),r.jsx(Dl,{})]})}function Ts({icon:e,iconColor:t,children:n}){return r.jsxs(V,{direction:"horizontal",className:ie.codeLine,children:[r.jsx(V,{className:ie.iconWrapper,children:r.jsx(e,{size:16})}),r.jsx(L,{as:"p",className:ie.codeText,children:n})]})}function Dl(){return r.jsxs(V,{gap:"condensed",children:[r.jsxs(V,{direction:"horizontal",className:ie.footerHeader,children:[r.jsx(hr,{size:18}),r.jsx(L,{className:ie.tipsText,children:"Tips"})]}),r.jsxs(L,{children:["Before you get started check out our"," ",r.jsx(bs,{href:"https://primer.style/react",target:"_blank",children:"Primer React Documentation"})," ","and"," ",r.jsx(bs,{href:"https://ui.githubapp.com/storybook/?path=/docs/templates-readme--docs&globals=viewport:narrow",target:"_blank",children:"Primer Templates (staff only)"})]})]})}const Bl="_container_m20cu_1",zl="_buttonWrapper_m20cu_7",Hl="_label_m20cu_12",Pn={container:Bl,buttonWrapper:zl,label:Hl},Rs="sb-color-scheme";function Do(){const{setDayScheme:e,setNightScheme:t,colorScheme:n}=Ba();w.useEffect(()=>{const a=localStorage.getItem(Rs);a&&(e(a),t(a))},[]),w.useLayoutEffect(()=>{document.documentElement.setAttribute("data-sb-theme",n)},[n]);const o=a=>{e(a),t(a),localStorage.setItem(Rs,a)},s=[{name:"Light",value:"light",icon:_s},{name:"Light colorblind",value:"light_colorblind",icon:_s},{name:"Dark",value:"dark",icon:Pt},{name:"Dark colorblind",value:"dark_colorblind",icon:Pt},{name:"Dark high contrast",value:"dark_high_contrast",icon:Pt},{name:"Dark Dimmed",value:"dark_dimmed",icon:Pt}],i=s.find(a=>a.value===n);return r.jsx(V,{padding:"normal",className:Pn.container,children:r.jsx(V,{className:Pn.buttonWrapper,children:r.jsxs(Ve,{children:[r.jsxs(Ve.Button,{size:"small",children:[r.jsx(i.icon,{}),r.jsxs(V,{className:Pn.label,children:[" ",i.name]})]}),r.jsx(Ve.Overlay,{align:"right",children:r.jsx(Ee,{showDividers:!0,children:r.jsx(Ee.Group,{selectionVariant:"single",children:s.map(a=>r.jsx(Ee.Item,{href:"#",selected:a.value===n,onSelect:()=>o(a.value),children:a.name},a.value))})})})]})})})}function Fl(){return r.jsxs(r.Fragment,{children:[r.jsx(Ml,{}),r.jsx(Do,{})]})}const Cr=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"}));var Mn={exports:{}},Dn,Ns;function Ul(){if(Ns)return Dn;Ns=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dn=e,Dn}var Bn,Ls;function ql(){if(Ls)return Bn;Ls=1;var e=Ul();function t(){}function n(){}return n.resetWarningCache=t,Bn=function(){function o(a,c,l,u,d,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}o.isRequired=o;function s(){return o}var i={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Bn}var Os;function Wl(){return Os||(Os=1,Mn.exports=ql()()),Mn.exports}var Vl=Wl();const ne=Va(Vl),Kl="_header_1282e_1",Gl="_headerContent_1282e_8",Jl="_titleWrapper_1282e_17",Yl="_separator_1282e_21",Zl="_subtitle_1282e_25",ut={header:Kl,headerContent:Gl,titleWrapper:Jl,separator:Yl,subtitle:Zl},Xl=[{icon:It,label:"Code",current:!0},{icon:rt,label:"Issues",counter:30},{icon:At,label:"Pull Requests",counter:3},{icon:mr,label:"Discussions"},{icon:pn,label:"Actions"},{icon:Tt,label:"Projects",counter:7},{icon:st,label:"Security",counter:12},{icon:Qe,label:"Insights"}];function Bo({items:e=Xl,title:t,subtitle:n}){return r.jsxs(V,{as:"header",className:ut.header,children:[r.jsxs("div",{className:ut.headerContent,children:[r.jsx(za,{icon:Qa,"aria-label":"Open global navigation menu",unsafeDisableTooltip:!0}),r.jsx(ho,{size:32}),r.jsxs(V,{direction:"horizontal",gap:"condensed",className:ut.titleWrapper,children:[r.jsx("span",{children:t||"title"}),n&&r.jsxs(r.Fragment,{children:[r.jsx(L,{className:ut.separator,children:"/"}),r.jsx(L,{className:ut.subtitle,children:n||"subtitle"})]})]})]}),r.jsx(xs,{"aria-label":"Repository",children:e.map(o=>r.jsx(xs.Item,{icon:o.icon,"aria-current":o.current?"page":void 0,counter:o.counter,href:o.url,children:o.label},o.label))})]})}Bo.propTypes={items:ne.arrayOf(ne.shape({icon:ne.elementType,label:ne.string.isRequired,current:ne.bool,counter:ne.number,url:ne.string})),title:ne.string,subtitle:ne.string};const Ql=[{icon:rt,label:"Open issues",url:"#"},{icon:hr,label:"Your issues",url:"#"},{icon:gr,label:"Assigned to you",url:"#",current:!0},{icon:mo,label:"Mentioning you",url:"#"}];function ed({items:e=Ql}){return r.jsx($n,{"aria-label":"Navigation",children:e.map(t=>r.jsxs($n.Item,{href:t.url,"aria-current":t.current?"page":void 0,children:[t.icon&&r.jsx($n.LeadingVisual,{children:r.jsx(t.icon,{})}),t.label]},t.label))})}const td="_wrapper_74lhx_1",nd="_navigation_74lhx_7",rd="_main_74lhx_13",sd="_container_74lhx_22",Dt={wrapper:td,navigation:nd,main:rd,container:sd};function xe({children:e,title:t,subtitle:n,topnav:o,sidenav:s}){return r.jsxs(V,{className:Dt.container,children:[r.jsx(Bo,{title:t,subtitle:n,items:o}),r.jsxs("div",{className:Dt.wrapper,children:[s&&r.jsx("aside",{className:Dt.navigation,children:r.jsx(ed,{items:s})}),r.jsx("main",{className:Dt.main,children:e})]})]})}const od=[{icon:br,label:"Home",url:"/"},{icon:fn,label:"Forms",url:"/Forms",current:!0}];function id(){const[,,e]=E("checkout");return r.jsxs(xe,{title:"Storyboard",subtitle:"Forms",topnav:od,children:[r.jsx(L,{as:"h1",fontSize:"larger",children:"Form Components Demo"}),r.jsx(L,{as:"p",color:"fg.muted",children:"Type in the fields below, then click Submit to persist values in the URL hash. Refresh the page or share the URL to restore state."}),r.jsx(Mo,{data:"checkout",children:r.jsxs(V,{direction:"vertical",gap:"normal",padding:"normal",children:[r.jsxs(z,{children:[r.jsx(z.Label,{children:"Email"}),r.jsx(xt,{name:"email",placeholder:"you@example.com"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Full Name"}),r.jsx(xt,{name:"name",placeholder:"Jane Doe"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Shipping Address"}),r.jsx(Po,{name:"address",placeholder:"123 Main St..."})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Country"}),r.jsxs(Se,{name:"country",children:[r.jsx(Se.Option,{value:"",children:"Select a country"}),r.jsx(Se.Option,{value:"us",children:"United States"}),r.jsx(Se.Option,{value:"ca",children:"Canada"}),r.jsx(Se.Option,{value:"uk",children:"United Kingdom"}),r.jsx(Se.Option,{value:"de",children:"Germany"})]})]}),r.jsxs(z,{children:[r.jsx(Rl,{name:"newsletter"}),r.jsx(z.Label,{children:"Subscribe to newsletter"})]}),r.jsxs(V,{direction:"horizontal",gap:"condensed",children:[r.jsx(oe,{type:"submit",variant:"primary",children:"Submit"}),r.jsx(oe,{type:"button",variant:"danger",onClick:()=>e(),children:"Reset"})]})]})})]})}const Er=Object.freeze(Object.defineProperty({__proto__:null,default:id},Symbol.toStringTag,{value:"Module"})),ad=[{icon:It,label:"Code",url:"/"},{icon:rt,label:"Issues",counter:10,url:"#issues",current:!0},{icon:At,label:"Pull Requests",counter:3,url:"/overview"},{icon:mr,label:"Discussions"},{icon:pn,label:"Actions"},{icon:Tt,label:"Projects",counter:7},{icon:st,label:"Security",counter:12},{icon:Qe,label:"Insights"}],cd=[{icon:rt,label:"Open issues",url:""},{icon:hr,label:"Your issues",url:""},{icon:gr,label:"Assigned to you",url:"",current:!0},{icon:mo,label:"Mentioning you",url:""}];function ld(){return r.jsx(xe,{title:"Primer",subtitle:"React",topnav:ad,sidenav:cd,children:"This is the issues page"})}const kr=Object.freeze(Object.defineProperty({__proto__:null,default:ld},Symbol.toStringTag,{value:"Module"})),dd="_title_1bvkv_1",ud="_card_1bvkv_4",pd="_cardText_1bvkv_12",zn={title:dd,card:ud,cardText:pd},fd=[{icon:br,label:"Overview",url:"/",current:!0},{icon:rt,label:"Organizations",url:"#issues"},{icon:At,label:"People"},{icon:mr,label:"Policies"},{icon:pn,label:"GitHub Connect"},{icon:Tt,label:"Code Security",counter:7},{icon:st,label:"Billing & Licensing",counter:12},{icon:Qe,label:"Settings"},{icon:Qe,label:"Compliance"}];function hd(){return r.jsxs(xe,{title:"Primer",subtitle:"React",topnav:fd,children:[r.jsx(L,{as:"h1",className:zn.title,fontSize:"larger",children:"Overview"}),r.jsxs("div",{className:zn.card,children:[r.jsx(L,{as:"p",className:zn.cardText,fontSize:"medium",children:"This is a card in the overview"}),r.jsx(oe,{children:"Edit"})]})]})}const Ir=Object.freeze(Object.defineProperty({__proto__:null,default:hd},Symbol.toStringTag,{value:"Module"})),md="_content_qz2dt_1",gd="_pageHeader_qz2dt_6",bd="_pageTitle_qz2dt_13",xd="_filterBar_qz2dt_19",vd="_filterInput_qz2dt_26",yd="_searchAction_qz2dt_30",_d="_listHeader_qz2dt_34",wd="_repoCount_qz2dt_44",jd="_listControls_qz2dt_49",Sd="_sortButton_qz2dt_55",Cd="_viewToggle_qz2dt_59",Ed="_viewButton_qz2dt_66",kd="_viewButtonActive_qz2dt_81",Id="_repoList_qz2dt_86",Ad="_repoItem_qz2dt_95",Td="_repoInfo_qz2dt_107",Rd="_repoIcon_qz2dt_114",Nd="_repoName_qz2dt_119",Ld="_repoDescription_qz2dt_131",Od="_repoMeta_qz2dt_139",$d="_metaItem_qz2dt_148",Pd="_language_qz2dt_154",Md="_languageDot_qz2dt_160",R={content:md,pageHeader:gd,pageTitle:bd,filterBar:xd,filterInput:vd,searchAction:yd,listHeader:_d,repoCount:wd,listControls:jd,sortButton:Sd,viewToggle:Cd,viewButton:Ed,viewButtonActive:kd,repoList:Id,repoItem:Ad,repoInfo:Td,repoIcon:Rd,repoName:Nd,repoDescription:Ld,repoMeta:Od,metaItem:$d,language:Pd,languageDot:Md},Dd={home:br,repo:hn,project:Tt,package:vo,people:xo,person:gr,shield:st,graph:Qe,gear:fn,"git-pull-request":At,eye:cc,lock:ac,code:It,"repo-forked":go,archive:ic,"repo-template":oc};function $s(e){return typeof e=="string"?Dd[e]||hn:e}function Bd(){const e=F("topnav"),t=Array.isArray(e)?e.map(a=>({...a,icon:$s(a.icon)})):[],n=F("sidenav"),o=Array.isArray(n)?n.map(a=>({...a,icon:$s(a.icon)})):[],s=F("repositories"),i=Array.isArray(s)?s:[];return r.jsx(xe,{title:"Banana Org",topnav:t,sidenav:o,children:r.jsxs("div",{className:R.content,children:[r.jsxs("header",{className:R.pageHeader,children:[r.jsx("h2",{className:R.pageTitle,children:"All"}),r.jsx(oe,{variant:"primary",children:"New repository"})]}),r.jsxs("div",{className:R.filterBar,children:[r.jsx(Kt,{leadingVisual:ec,placeholder:"Filter",value:"copilot",className:R.filterInput,trailingAction:r.jsx(Kt.Action,{icon:tc,"aria-label":"Clear filter"})}),r.jsx(Kt,{leadingVisual:nc,placeholder:"","aria-label":"Search repositories",className:R.searchAction})]}),r.jsxs("div",{className:R.listHeader,children:[r.jsx("span",{className:R.repoCount,children:r.jsxs("strong",{children:[i.length," repositories"]})}),r.jsxs("div",{className:R.listControls,children:[r.jsxs(Ve,{children:[r.jsx(Ve.Button,{size:"small",className:R.sortButton,children:"Last pushed"}),r.jsx(Ve.Overlay,{children:r.jsxs(Ee,{children:[r.jsx(Ee.Item,{children:"Last pushed"}),r.jsx(Ee.Item,{children:"Name"}),r.jsx(Ee.Item,{children:"Stars"})]})})]}),r.jsxs("div",{className:R.viewToggle,children:[r.jsx("button",{className:`${R.viewButton} ${R.viewButtonActive}`,"aria-label":"List view",children:r.jsx(rc,{size:16})}),r.jsx("button",{className:R.viewButton,"aria-label":"Grid view",children:r.jsx(sc,{size:16})})]})]})]}),r.jsx("ul",{className:R.repoList,children:i.map(a=>r.jsxs("li",{className:R.repoItem,children:[r.jsxs("div",{className:R.repoInfo,children:[r.jsx(hn,{size:16,className:R.repoIcon}),r.jsx("a",{href:a.url,className:R.repoName,children:a.name}),a.description&&r.jsx("span",{className:R.repoDescription,children:a.description})]}),r.jsxs("div",{className:R.repoMeta,children:[a.language&&r.jsxs("span",{className:R.language,children:[r.jsx("span",{className:R.languageDot}),a.language]}),r.jsx("span",{className:R.metaItem,children:r.jsx(fn,{size:16})}),r.jsxs("span",{className:R.metaItem,children:[r.jsx(go,{size:16})," ",a.forks]}),r.jsxs("span",{className:R.metaItem,children:[r.jsx(bo,{size:16})," ",a.stars]})]})]},a.name))})]})})}const Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Bd},Symbol.toStringTag,{value:"Module"})),zd="_pageWrapper_1x2wf_1",Hd="_breadcrumb_1x2wf_7",Fd="_breadcrumbLink_1x2wf_15",Ud="_breadcrumbSeparator_1x2wf_27",qd="_breadcrumbCurrent_1x2wf_31",Wd="_pageTitle_1x2wf_36",Vd="_issueNumber_1x2wf_42",Kd="_stateMeta_1x2wf_48",Gd="_metaText_1x2wf_56",Jd="_contentLayout_1x2wf_66",Yd="_mainContent_1x2wf_73",Zd="_packageTable_1x2wf_78",Xd="_packageColumn_1x2wf_88",Qd="_packageLabel_1x2wf_94",eu="_packageValue_1x2wf_99",tu="_packageCode_1x2wf_107",nu="_copyIcon_1x2wf_112",ru="_advisoryBody_1x2wf_118",su="_timeline_1x2wf_165",ou="_timelineItem_1x2wf_173",iu="_timelineBadge_1x2wf_179",au="_openedIcon_1x2wf_185",cu="_closedIcon_1x2wf_189",lu="_timelineText_1x2wf_193",du="_botLabel_1x2wf_205",uu="_sidebar_1x2wf_210",pu="_sidebarSection_1x2wf_216",fu="_sidebarHeading_1x2wf_228",hu="_severityScore_1x2wf_234",mu="_criticalLabel_1x2wf_240",gu="_scoreText_1x2wf_244",bu="_metricsHeading_1x2wf_250",xu="_metricsTable_1x2wf_257",vu="_metricLabel_1x2wf_274",yu="_metricValue_1x2wf_278",_u="_learnMore_1x2wf_284",wu="_cvssVector_1x2wf_294",ju="_epssScore_1x2wf_301",Su="_tagList_1x2wf_308",Cu="_tag_1x2wf_308",Eu="_weaknessList_1x2wf_319",ku="_weaknessItem_1x2wf_328",Iu="_sidebarValue_1x2wf_334",Au="_sidebarLink_1x2wf_340",Tu="_contributeText_1x2wf_353",Ru="_contributeLink_1x2wf_358",y={pageWrapper:zd,breadcrumb:Hd,breadcrumbLink:Fd,breadcrumbSeparator:Ud,breadcrumbCurrent:qd,pageTitle:Wd,issueNumber:Vd,stateMeta:Kd,metaText:Gd,contentLayout:Jd,mainContent:Yd,packageTable:Zd,packageColumn:Xd,packageLabel:Qd,packageValue:eu,packageCode:tu,copyIcon:nu,advisoryBody:ru,timeline:su,timelineItem:ou,timelineBadge:iu,openedIcon:au,closedIcon:cu,timelineText:lu,botLabel:du,sidebar:uu,sidebarSection:pu,sidebarHeading:fu,severityScore:hu,criticalLabel:mu,scoreText:gu,metricsHeading:bu,metricsTable:xu,metricLabel:vu,metricValue:yu,learnMore:_u,cvssVector:wu,epssScore:ju,tagList:Su,tag:Cu,weaknessList:Eu,weaknessItem:ku,sidebarValue:Iu,sidebarLink:Au,contributeText:Tu,contributeLink:Ru},Nu={code:It,"issue-opened":rt,"git-pull-request":At,people:xo,play:pn,project:Tt,star:bo,book:lc,shield:st,graph:Qe,gear:fn};function Lu(){const e=F("topnav"),t=Array.isArray(e)?e.map(d=>({...d,icon:Nu[d.icon]||It})):[],n=F("advisory")||{},o=n.package||{},s=n.severity||{},i=Array.isArray(s.cvssMetrics)?s.cvssMetrics:[],a=Array.isArray(n.tags)?n.tags:[],c=Array.isArray(n.weaknesses)?n.weaknesses:[],l=Array.isArray(n.timeline)?n.timeline:[],u=n.epss||{};return r.jsx(xe,{title:"octodemo",subtitle:"test-se-fs-gitogether-repo",topnav:t,children:r.jsxs("div",{className:y.pageWrapper,children:[r.jsxs("nav",{className:y.breadcrumb,children:[r.jsxs("a",{href:"#",className:y.breadcrumbLink,children:[r.jsx(dc,{size:16}),r.jsx("span",{children:n.breadcrumb})]}),r.jsx("span",{className:y.breadcrumbSeparator,children:"/"}),r.jsxs("span",{className:y.breadcrumbCurrent,children:["#",n.id]})]}),r.jsxs("h1",{className:y.pageTitle,children:[n.title," ",r.jsxs("span",{className:y.issueNumber,children:["#",n.id]})]}),r.jsxs("div",{className:y.stateMeta,children:[r.jsxs(Ha,{status:"issueClosed",variant:"small",children:[r.jsx(ws,{size:16})," Fixed"]}),r.jsxs("span",{className:y.metaText,children:["Opened ",n.openedAgo," on ",r.jsx("strong",{children:o.name})," (",o.ecosystem,") · · · Fixed ",n.fixedAgo]})]}),r.jsxs("div",{className:y.contentLayout,children:[r.jsxs("div",{className:y.mainContent,children:[r.jsxs("div",{className:y.packageTable,children:[r.jsxs("div",{className:y.packageColumn,children:[r.jsx("span",{className:y.packageLabel,children:"Package"}),r.jsxs("span",{className:y.packageValue,children:[r.jsx(vo,{size:16})," ",o.name," (",o.ecosystem,")"]})]}),r.jsxs("div",{className:y.packageColumn,children:[r.jsx("span",{className:y.packageLabel,children:"Affected versions"}),r.jsx("code",{className:y.packageCode,children:o.affectedVersions})]}),r.jsxs("div",{className:y.packageColumn,children:[r.jsx("span",{className:y.packageLabel,children:"Patched version"}),r.jsxs("span",{className:y.packageValue,children:[r.jsx("strong",{children:o.patchedVersion})," ",r.jsx(uc,{size:16,className:y.copyIcon})]})]})]}),r.jsxs("article",{className:y.advisoryBody,children:[r.jsx("h2",{children:"Summary"}),r.jsx("p",{children:"Log4j versions prior to 2.16.0 are subject to a remote code execution vulnerability via the ldap JNDI parser."}),r.jsxs("p",{children:["As per ",r.jsx("a",{href:"#",children:"Apache's Log4j security guide"}),": Apache Log4j2 <=2.14.1 JNDI features used in configuration, log messages, and parameters do not protect against attacker controlled LDAP and other JNDI related endpoints. An attacker who can control log messages or log message parameters can execute arbitrary code loaded from LDAP servers when message lookup substitution is enabled. From log4j 2.16.0, this behavior has been disabled by default."]}),r.jsxs("p",{children:["Log4j version 2.15.0 contained an earlier fix for the vulnerability, but that patch did not disable attacker-controlled JNDI lookups in all situations. For more information, see the ",r.jsx("code",{children:"Updated advice for version 2.16.0"})," section of this advisory."]}),r.jsx("h2",{children:"Impact"}),r.jsx("p",{children:"Logging untrusted or user controlled data with a vulnerable version of Log4J may result in Remote Code Execution (RCE) against your application. This includes untrusted data included in logged errors such as exception traces, authentication failures, and other unexpected vectors of user controlled input."}),r.jsx("h2",{children:"Affected versions"}),r.jsx("p",{children:"Any Log4J version prior to v2.15.0 is affected to this specific issue."}),r.jsx("p",{children:"The v1 branch of Log4J which is considered End Of Life (EOL) is vulnerable to other RCE vectors so the recommendation is to still update to 2.16.0 where possible."}),r.jsx("h2",{children:"Security releases"}),r.jsx("p",{children:"Additional backports of this fix have been made available in versions 2.3.1, 2.12.2, and 2.12.3"}),r.jsx("h2",{children:"Affected packages"}),r.jsxs("p",{children:["Only the ",r.jsx("code",{children:"org.apache.logging.log4j:log4j-core"})," package is directly affected by this vulnerability. The ",r.jsx("code",{children:"org.apache.logging.log4j:log4j-api"})," should be kept at the same version as the ",r.jsx("code",{children:"org.apache.logging.log4j-core"})," package to ensure compatability if in use."]}),r.jsx("h2",{children:"Remediation Advice"}),r.jsx("h3",{children:"Updated advice for version 2.16.0"}),r.jsxs("p",{children:["The Apache Logging Services team provided updated mitigation advice upon the release of version 2.16.0, which ",r.jsx("a",{href:"#",children:"disables JNDI by default and completely removes support for message lookups"}),"."]}),r.jsxs("p",{children:["Even in version 2.15.0, lookups used in layouts to provide specific pieces of context information will still recursively resolve, possibly triggering JNDI lookups. This problem is being tracked as ",r.jsx("a",{href:"#",children:"CVE-2021-45046"}),". More information is available on the ",r.jsx("a",{href:"#",children:"GitHub Security Advisory for CVE-2021-45046"}),"."]}),r.jsxs("p",{children:["Users who want to avoid attacker-controlled JNDI lookups but cannot upgrade to 2.16.0 must ",r.jsx("a",{href:"#",children:"ensure that no such lookups resolve to attacker-provided data and ensure that the JndiLookup class is not loaded"}),"."]}),r.jsx("p",{children:"Please note that Log4J v1 is End Of Life (EOL) and will not receive patches for this issue. Log4J v1 is also vulnerable to other RCE vectors and we recommend you migrate to Log4J 2.16.0 where possible."})]}),r.jsx("div",{className:y.timeline,children:l.map((d,p)=>r.jsxs("div",{className:y.timelineItem,children:[r.jsx("div",{className:y.timelineBadge,children:d.action.includes("closed")?r.jsx(ws,{size:16,className:y.closedIcon}):r.jsx(st,{size:16,className:y.openedIcon})}),r.jsx(Fa,{src:d.actorAvatar,size:20,alt:d.actor}),r.jsxs("span",{className:y.timelineText,children:[r.jsx("strong",{children:d.actor}),d.isBot&&r.jsx(Gt,{size:"small",className:y.botLabel,children:"bot"})," ",d.action," ",d.timeAgo]})]},p))})]}),r.jsxs("aside",{className:y.sidebar,children:[r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h3",{className:y.sidebarHeading,children:"Severity"}),r.jsxs("div",{className:y.severityScore,children:[r.jsx(Gt,{variant:"danger",className:y.criticalLabel,children:s.level}),r.jsx("span",{className:y.scoreText,children:s.score})]})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h4",{className:y.metricsHeading,children:"CVSS v3 base metrics"}),r.jsx("table",{className:y.metricsTable,children:r.jsx("tbody",{children:i.map(d=>r.jsxs("tr",{children:[r.jsx("td",{className:y.metricLabel,children:d.label}),r.jsx("td",{className:y.metricValue,children:d.value})]},d.label))})}),r.jsx("a",{href:"#",className:y.learnMore,children:"Learn more about base metrics"}),r.jsx("p",{className:y.cvssVector,children:s.cvssVector})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h3",{className:y.sidebarHeading,children:"EPSS score"}),r.jsxs("p",{className:y.epssScore,children:[u.score," (",u.percentile,")"]})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h3",{className:y.sidebarHeading,children:"Tags"}),r.jsx("div",{className:y.tagList,children:a.map(d=>r.jsx(Gt,{className:y.tag,children:d},d))})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h3",{className:y.sidebarHeading,children:"Weaknesses"}),r.jsx("ul",{className:y.weaknessList,children:c.map(d=>r.jsxs("li",{className:y.weaknessItem,children:["▸ ",d]},d))})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h3",{className:y.sidebarHeading,children:"CVE ID"}),r.jsx("p",{className:y.sidebarValue,children:n.cveId})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("h3",{className:y.sidebarHeading,children:"GHSA ID"}),r.jsx("p",{className:y.sidebarValue,children:n.ghsaId})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsxs("a",{href:"#",className:y.sidebarLink,children:[r.jsx(pc,{size:16})," See advisory in GitHub Advisory Database"]}),r.jsxs("a",{href:"#",className:y.sidebarLink,children:[r.jsx(hn,{size:16})," See all of your affected repositories"]})]}),r.jsxs("div",{className:y.sidebarSection,children:[r.jsx("p",{className:y.contributeText,children:"See something to contribute?"}),r.jsx("a",{href:"#",className:y.contributeLink,children:"Suggest improvements for this advisory on the GitHub Advisory Database."})]})]})]})]})})}const Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"})),Hn=["Account","Organization","Workspace","Review"];function fe(e){return typeof e=="string"?e:""}function Ps(e){return e===!0||e==="true"}function Bt({name:e,defaultValue:t,onCommit:n,...o}){const s=w.useRef(t);return r.jsx(Fe,{name:e,defaultValue:t,onChange:({value:i})=>{s.current=i},onBlur:()=>n(s.current),...o})}function Ou(){const e=fr(),[t,n]=E("signup.step"),o=Math.min(Math.max(parseInt(t,10)||0,0),Hn.length-1),s=k=>{const B=typeof k=="function"?k(o):k;n(String(B))},[i,a,c]=E("signup.errors.fullName"),[l,u,d]=E("signup.errors.email"),[p,f,g]=E("signup.errors.password"),[_,b,h]=E("signup.errors.orgName"),[v,j,S]=E("signup.errors.orgSize"),[I,P,H]=E("signup.errors.role"),[q,ue,te]=E("signup.errors.region"),[pe,we,ma]=E("signup.errors.plan"),[ga,ba,xa]=E("signup.errors.agreeTerms"),A={fullName:i,email:l,password:p,orgName:_,orgSize:v,role:I,region:q,plan:pe,agreeTerms:ga},va={fullName:a,email:u,password:f,orgName:b,orgSize:j,role:P,region:ue,plan:we,agreeTerms:ba},ya={fullName:c,email:d,password:g,orgName:h,orgSize:S,role:H,region:te,plan:ma,agreeTerms:xa},_a=()=>Object.values(ya).forEach(k=>k()),os=k=>{_a(),Object.entries(k).forEach(([B,$a])=>va[B]?.($a))},[is,wa]=E("signup.fullName"),[as,ja]=E("signup.email"),[cs,Sa]=E("signup.password"),[ls,Ca]=E("signup.organization.name"),[ds,Ea]=E("signup.organization.size"),[us,ka]=E("signup.organization.role"),[ps,Ia]=E("signup.workspace.region"),[fs,Aa]=E("signup.workspace.plan"),[hs,Ta]=E("signup.workspace.newsletter"),[ms,Ra]=E("signup.workspace.agreeTerms"),T=w.useMemo(()=>({fullName:fe(is),email:fe(as),password:fe(cs),orgName:fe(ls),orgSize:fe(ds),role:fe(us),region:fe(ps),plan:fe(fs)||"starter",newsletter:Ps(hs),agreeTerms:Ps(ms)}),[is,as,cs,ls,ds,us,ps,fs,hs,ms]);function gs(k){const B={};return k===0&&(T.fullName.trim()||(B.fullName="Full name is required."),T.email.trim()||(B.email="Email is required."),T.password.trim()||(B.password="Password is required.")),k===1&&(T.orgName.trim()||(B.orgName="Organization name is required."),T.orgSize.trim()||(B.orgSize="Organization size is required."),T.role.trim()||(B.role="Role is required.")),k===2&&(T.region.trim()||(B.region="Region is required."),T.plan.trim()||(B.plan="Plan is required."),T.agreeTerms||(B.agreeTerms="You must accept terms to continue.")),os(B),Object.keys(B).length===0}function Na(){gs(o)&&s(k=>Math.min(k+1,Hn.length-1))}function La(){os({}),s(k=>Math.max(k-1,0))}function Oa(){if(!gs(2)){s(2);return}e("/Dashboard")}return r.jsx(_t,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:6,align:"center",justify:"center",children:r.jsxs(m,{maxWidth:"560px",width:"100%",direction:"column",gap:6,children:[r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(x,{variant:"featured-1",weight:"bold",children:"Create your cloud account"}),r.jsx(x,{variant:"body-2",color:"neutral-faded",children:"Complete the onboarding flow to configure your account and organization."})]}),r.jsx(vs,{activeId:String(o),children:Hn.map((k,B)=>r.jsx(vs.Item,{id:String(B),title:k,completed:B<o,subtitle:`Step ${B+1}`},k))}),r.jsx(be,{padding:6,children:r.jsxs(m,{direction:"column",gap:5,children:[o===0&&r.jsxs(r.Fragment,{children:[r.jsxs(C,{hasError:!!A.fullName,children:[r.jsx(C.Label,{children:"Full name"}),r.jsx(Bt,{name:"fullName",defaultValue:T.fullName,placeholder:"Jane Doe",onCommit:wa}),A.fullName&&r.jsx(C.Error,{children:A.fullName})]}),r.jsxs(C,{hasError:!!A.email,children:[r.jsx(C.Label,{children:"Email"}),r.jsx(Bt,{name:"email",defaultValue:T.email,placeholder:"jane@acme.cloud",onCommit:ja}),A.email&&r.jsx(C.Error,{children:A.email})]}),r.jsxs(C,{hasError:!!A.password,children:[r.jsx(C.Label,{children:"Password"}),r.jsx(Bt,{name:"password",defaultValue:T.password,onCommit:Sa,inputAttributes:{type:"password"}}),A.password&&r.jsx(C.Error,{children:A.password})]})]}),o===1&&r.jsxs(r.Fragment,{children:[r.jsxs(C,{hasError:!!A.orgName,children:[r.jsx(C.Label,{children:"Organization name"}),r.jsx(Bt,{name:"orgName",defaultValue:T.orgName,placeholder:"Acme Cloud",onCommit:Ca}),A.orgName&&r.jsx(C.Error,{children:A.orgName})]}),r.jsxs(C,{hasError:!!A.orgSize,children:[r.jsx(C.Label,{children:"Organization size"}),r.jsxs(qe,{name:"orgSize",value:T.orgSize,placeholder:"Select size",onChange:({value:k})=>Ea(k),children:[r.jsx("option",{value:"1-10",children:"1–10 employees"}),r.jsx("option",{value:"11-50",children:"11–50 employees"}),r.jsx("option",{value:"51-250",children:"51–250 employees"}),r.jsx("option",{value:"251+",children:"251+ employees"})]}),A.orgSize&&r.jsx(C.Error,{children:A.orgSize})]}),r.jsxs(C,{hasError:!!A.role,children:[r.jsx(C.Label,{children:"Your role"}),r.jsxs(qe,{name:"role",value:T.role,placeholder:"Select role",onChange:({value:k})=>ka(k),children:[r.jsx("option",{value:"founder",children:"Founder"}),r.jsx("option",{value:"engineering-manager",children:"Engineering Manager"}),r.jsx("option",{value:"developer",children:"Developer"}),r.jsx("option",{value:"platform-admin",children:"Platform Admin"})]}),A.role&&r.jsx(C.Error,{children:A.role})]})]}),o===2&&r.jsxs(r.Fragment,{children:[r.jsxs(C,{hasError:!!A.region,children:[r.jsx(C.Label,{children:"Primary region"}),r.jsxs(qe,{name:"region",value:T.region,placeholder:"Select region",onChange:({value:k})=>Ia(k),children:[r.jsx("option",{value:"us-east-1",children:"US East"}),r.jsx("option",{value:"us-west-2",children:"US West"}),r.jsx("option",{value:"eu-west-1",children:"EU West"}),r.jsx("option",{value:"ap-southeast-1",children:"AP Southeast"})]}),A.region&&r.jsx(C.Error,{children:A.region})]}),r.jsxs(C,{hasError:!!A.plan,children:[r.jsx(C.Label,{children:"Starting plan"}),r.jsxs(qe,{name:"plan",value:T.plan,onChange:({value:k})=>Aa(k),children:[r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"growth",children:"Growth"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]}),A.plan&&r.jsx(C.Error,{children:A.plan})]}),r.jsx(Vn,{name:"newsletter",checked:T.newsletter,onChange:({checked:k})=>Ta(k?"true":"false"),children:"Email me product updates and onboarding tips"}),r.jsxs(C,{hasError:!!A.agreeTerms,children:[r.jsx(Vn,{name:"agreeTerms",checked:T.agreeTerms,onChange:({checked:k})=>Ra(k?"true":"false"),children:"I agree to the Terms of Service and Privacy Policy"}),A.agreeTerms&&r.jsx(C.Error,{children:A.agreeTerms})]})]}),o===3&&r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(x,{variant:"featured-3",weight:"bold",children:"Review your configuration"}),r.jsxs(m,{direction:"column",gap:3,children:[r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Name"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.fullName})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Email"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.email})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Organization"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.orgName})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Team size"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.orgSize})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Role"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.role})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Region"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.region})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Plan"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.plan})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Newsletter"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-2",children:T.newsletter?"Yes":"No"})})]})]})]}),r.jsxs(m,{direction:"row",justify:"end",gap:3,children:[o>0&&r.jsx(ce,{variant:"ghost",onClick:La,children:"Back"}),o<3&&r.jsx(ce,{color:"primary",onClick:Na,children:"Continue"}),o===3&&r.jsx(ce,{color:"primary",onClick:Oa,children:"Create account"})]})]})})]})})})}const Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Ou},Symbol.toStringTag,{value:"Module"})),$u=Object.assign({"/src/pages/Dashboard.jsx":()=>M(()=>Promise.resolve().then(()=>Sr),void 0),"/src/pages/Example.jsx":()=>M(()=>Promise.resolve().then(()=>Cr),void 0),"/src/pages/Forms.jsx":()=>M(()=>Promise.resolve().then(()=>Er),void 0),"/src/pages/Issues.jsx":()=>M(()=>Promise.resolve().then(()=>kr),void 0),"/src/pages/Overview.jsx":()=>M(()=>Promise.resolve().then(()=>Ir),void 0),"/src/pages/Repositories.jsx":()=>M(()=>Promise.resolve().then(()=>Ar),void 0),"/src/pages/SecurityAdvisory.jsx":()=>M(()=>Promise.resolve().then(()=>Tr),void 0),"/src/pages/Signup.jsx":()=>M(()=>Promise.resolve().then(()=>Rr),void 0),"/src/pages/_app.jsx":()=>M(()=>Promise.resolve().then(()=>jr),void 0),"/src/pages/viewfinder.jsx":()=>M(()=>Promise.resolve().then(()=>qo),void 0)});function Pu(){return r.jsx($o,{scenes:wr,pageModules:$u,basePath:"/storyboard-source/"})}const zo=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),Ho={todo:"Todo",in_progress:"In Progress",done:"Done",cancelled:"Cancelled"},Fo={urgent:"Urgent",high:"High",medium:"Medium",low:"Low"},Mu=Object.entries(Ho),Du=Object.entries(Fo);function Uo({prefix:e}){const[t,n]=E(`${e}.title`),[o,s]=E(`${e}.description`),[i,a]=E(`${e}.status`),[c,l]=E(`${e}.priority`),[u,d]=E(`${e}.assignee`),[p,f]=E(`${e}.project`),[g,_]=E(`${e}.estimate`);return r.jsxs(m,{direction:"column",gap:4,children:[r.jsxs(C,{children:[r.jsx(C.Label,{children:"Title"}),r.jsx(Fe,{name:"title",value:t??"",onChange:({value:b})=>n(b)})]}),r.jsxs(C,{children:[r.jsx(C.Label,{children:"Description"}),r.jsx(Fe,{name:"description",multiline:!0,value:o??"",onChange:({value:b})=>s(b),inputAttributes:{rows:3}})]}),r.jsxs(m,{direction:"row",gap:4,children:[r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Status"}),r.jsx(qe,{name:"status",value:i??"todo",onChange:({value:b})=>a(b),children:Mu.map(([b,h])=>r.jsx("option",{value:b,children:h},b))})]})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Priority"}),r.jsx(qe,{name:"priority",value:c??"medium",onChange:({value:b})=>l(b),children:Du.map(([b,h])=>r.jsx("option",{value:b,children:h},b))})]})})]}),r.jsxs(m,{direction:"row",gap:4,children:[r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Assignee"}),r.jsx(Fe,{name:"assignee",placeholder:"Username",value:u??"",onChange:({value:b})=>d(b)})]})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Project"}),r.jsx(Fe,{name:"project",placeholder:"Project name",value:p??"",onChange:({value:b})=>f(b)})]})})]}),r.jsxs(C,{children:[r.jsx(C.Label,{children:"Estimate (points)"}),r.jsx(Fe,{name:"estimate",placeholder:"e.g. 5",value:g??"",onChange:({value:b})=>_(b)})]})]})}const Bu={Auth:"neutral",Backend:"critical",Feature:"primary",Bug:"critical",Security:"warning",Frontend:"primary",DevEx:"positive"},zt=["title","description","status","priority","assignee","project","estimate"];function zu({issue:e,active:t,onClose:n}){const o={title:je("issues",e.id,"title"),description:je("issues",e.id,"description"),status:je("issues",e.id,"status"),priority:je("issues",e.id,"priority"),assignee:je("issues",e.id,"assignee"),project:je("issues",e.id,"project"),estimate:je("issues",e.id,"estimate")},s=()=>{zt.forEach(c=>{Ae(`draft.edit.${c}`,e[c]??"")})},i=()=>{const c=new URLSearchParams(window.location.hash.replace(/^#/,""));zt.forEach(l=>{const[,u]=o[l];u(c.get(`draft.edit.${l}`)??"")}),zt.forEach(l=>Qt(`draft.edit.${l}`)),n({reason:"save"})},a=()=>{zt.forEach(c=>Qt(`draft.edit.${c}`)),n({reason:"cancel"})};return r.jsxs(Ke,{active:t,onClose:a,onOpen:s,size:"600px",padding:6,position:"center",children:[r.jsx(Ke.Title,{children:"Edit Issue"}),r.jsx(Ke.Subtitle,{children:e.identifier}),r.jsxs(m,{direction:"column",gap:4,paddingTop:4,children:[r.jsx(Uo,{prefix:"draft.edit"}),r.jsxs(m,{direction:"row",justify:"end",gap:2,paddingTop:2,children:[r.jsx(ce,{variant:"outline",onClick:a,children:"Cancel"}),r.jsx(ce,{color:"primary",onClick:i,children:"Save"})]})]})]})}function Hu(){const[e,t,n]=E("ui.editModal"),o=e==="true",s=Lo("issues","id"),i=F("signup.organization.name"),a=F("signup.fullName"),c=F("signup.organization.role");return s?r.jsx(_t,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(sn,{orgName:i,activePage:"Issues",userInfo:{name:a,role:c}})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"row",gap:8,align:"start",children:[r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,maxWidth:"720px",children:[r.jsxs(m,{direction:"row",gap:2,align:"center",justify:"space-between",children:[r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsx(Xe,{to:"/issues",style:{textDecoration:"none"},children:r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:i||"Workspace"})}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"›"}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:s.identifier})]}),r.jsx(ce,{variant:"outline",size:"small",onClick:()=>t("true"),children:"Edit issue"})]}),r.jsx(zu,{issue:s,active:o,onClose:()=>n()}),r.jsx(x,{variant:"featured-1",weight:"bold",children:s.title}),s.description&&r.jsx(x,{variant:"body-2",color:"neutral-faded",children:s.description}),s.acceptanceCriteria?.length>0&&r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(x,{variant:"body-2",weight:"bold",children:"Acceptance Criteria"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:s.acceptanceCriteria.map((l,u)=>r.jsx("li",{style:{marginBottom:"0.5rem"},children:r.jsx(x,{variant:"body-3",children:l})},u))})]}),s.technicalNotes?.length>0&&r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(x,{variant:"body-2",weight:"bold",children:"Technical Notes"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:s.technicalNotes.map((l,u)=>r.jsx("li",{style:{marginBottom:"0.5rem"},children:r.jsx(x,{variant:"body-3",children:l})},u))})]}),r.jsx(ae,{}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"+ Add sub-issues"}),r.jsx(ae,{}),r.jsxs(m,{direction:"column",gap:3,children:[r.jsx(x,{variant:"body-2",weight:"bold",children:"Activity"}),(s.activity||[]).map((l,u)=>r.jsxs(m,{direction:"row",gap:3,align:"center",children:[r.jsx(ys,{src:l.avatar,initials:l.user?.[0]?.toUpperCase(),size:6}),r.jsxs(m,{direction:"column",children:[r.jsxs(x,{variant:"body-3",children:[r.jsx(x,{weight:"medium",children:l.user}),l.type==="created"&&" created the issue",l.type==="comment"&&":"]}),l.body&&r.jsx(x,{variant:"body-3",color:"neutral-faded",children:l.body}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:l.time})]})]},u))]})]})}),r.jsx(m.Item,{columns:3,children:r.jsx(be,{padding:4,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:"Properties"}),r.jsx(ae,{}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Status"}),r.jsx(x,{variant:"body-3",children:Ho[s.status]||s.status})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Priority"}),r.jsx(x,{variant:"body-3",children:Fo[s.priority]||s.priority})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Assignee"}),s.assignee?r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsx(ys,{src:s.assigneeAvatar,initials:s.assignee?.[0]?.toUpperCase(),size:5}),r.jsx(x,{variant:"body-3",children:s.assignee})]}):r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"Assign"})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Labels"}),r.jsx(m,{direction:"row",gap:1,wrap:!0,children:(s.labels||[]).map(l=>r.jsx(wt,{size:"small",color:Bu[l]||"neutral",children:l},l))})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Project"}),r.jsx(x,{variant:"body-3",color:s.project?void 0:"neutral-faded",children:s.project||"Add to project"})]}),s.estimate&&r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(x,{variant:"caption-1",color:"neutral-faded",children:"Estimate"}),r.jsxs(x,{variant:"body-3",children:[s.estimate," points"]})]})]})})})]})})]})})}):r.jsx(_t,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(sn,{orgName:i,activePage:"Issues",userInfo:{name:a,role:c}})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,align:"center",paddingBlock:16,children:[r.jsx(x,{variant:"featured-2",weight:"bold",children:"Issue not found"}),r.jsx(x,{variant:"body-3",color:"neutral-faded",children:"The issue you're looking for doesn't exist."}),r.jsx(Xe,{to:"/issues",children:"← Back to all issues"})]})})]})})})}const Fu=Object.freeze(Object.defineProperty({__proto__:null,default:Hu},Symbol.toStringTag,{value:"Module"})),Uu="_issueRow_1cpdh_1",qu={issueRow:Uu},Wu={todo:"○",in_progress:"◐",done:"●",cancelled:"✕"},Vu={Auth:"neutral",Backend:"critical",Feature:"primary",Bug:"critical",Security:"warning",Frontend:"primary",DevEx:"positive"},Ku={title:"",description:"",status:"todo",priority:"medium",assignee:"",project:"",estimate:""},Gn=["title","description","status","priority","assignee","project","estimate"];function Ms(e){Gn.forEach(t=>Qt(`${e}.${t}`))}function Gu({active:e,onClose:t,issueCount:n}){const[o]=E("draft.create.title"),s=fr(),i=`FIL-${n+1}`,a=()=>{Gn.forEach(u=>{Ae(`draft.create.${u}`,Ku[u])})},c=()=>{if(!(o??"").trim())return;const u=o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")||`new-issue-${n+1}`;Gn.forEach(d=>{const p=new URLSearchParams(window.location.hash.replace(/^#/,"")).get(`draft.create.${d}`)??"";Ae(`record.issues.${u}.${d}`,p)}),Ae(`record.issues.${u}.identifier`,i),Ms("draft.create"),t({reason:"save"}),s(`/issues/${u}`)},l=()=>{Ms("draft.create"),t({reason:"cancel"})};return r.jsxs(Ke,{active:e,onClose:l,onOpen:a,size:"600px",padding:6,position:"center",children:[r.jsx(Ke.Title,{children:"Create Issue"}),r.jsx(Ke.Subtitle,{children:i}),r.jsxs(m,{direction:"column",gap:4,paddingTop:4,children:[r.jsx(Uo,{prefix:"draft.create"}),r.jsxs(m,{direction:"row",justify:"end",gap:2,paddingTop:2,children:[r.jsx(ce,{variant:"outline",onClick:l,children:"Cancel"}),r.jsx(ce,{color:"primary",onClick:c,children:"Save"})]})]})]})}function Ju(){const[e,t,n]=E("ui.createModal"),o=e==="true",s=Oo("issues"),i=F("signup.organization.name"),a=F("signup.fullName"),c=F("signup.organization.role"),l=s.filter(d=>d.status!=="done"&&d.status!=="cancelled"),u=s.filter(d=>d.status==="done"||d.status==="cancelled");return r.jsx(_t,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(sn,{orgName:i,activePage:"Issues",userInfo:{name:a,role:c}})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,maxWidth:"900px",children:[r.jsxs(m,{direction:"row",justify:"space-between",align:"center",children:[r.jsx(x,{variant:"featured-2",weight:"bold",children:"Issues"}),r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsxs(wt,{color:"neutral",children:[s.length," total"]}),r.jsx(ce,{size:"small",color:"primary",onClick:()=>t("true"),children:"Create issue"})]})]}),r.jsx(Gu,{active:o,onClose:()=>n(),issueCount:s.length}),r.jsxs(m,{direction:"column",gap:0,children:[r.jsx(m,{paddingBlock:2,paddingInline:3,children:r.jsxs(x,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:["Open · ",l.length]})}),r.jsx(ae,{}),l.map(d=>r.jsx(Ds,{issue:d},d.id))]}),u.length>0&&r.jsxs(m,{direction:"column",gap:0,children:[r.jsx(m,{paddingBlock:2,paddingInline:3,children:r.jsxs(x,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:["Closed · ",u.length]})}),r.jsx(ae,{}),u.map(d=>r.jsx(Ds,{issue:d},d.id))]})]})})]})})})}function Ds({issue:e}){return r.jsxs(r.Fragment,{children:[r.jsx(Xe,{to:`/issues/${e.id}`,className:qu.issueRow,children:r.jsxs(m,{direction:"row",align:"center",gap:3,padding:3,children:[r.jsx(x,{variant:"body-3",color:"neutral-faded",attributes:{style:{minWidth:20}},children:Wu[e.status]||"○"}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",attributes:{style:{minWidth:50}},children:e.identifier}),r.jsx(m.Item,{grow:!0,children:r.jsx(x,{variant:"body-3",children:e.title})}),r.jsx(m,{direction:"row",gap:1,children:(e.labels||[]).map(t=>r.jsx(wt,{size:"small",color:Vu[t]||"neutral",children:t},t))}),r.jsx(x,{variant:"caption-1",color:"neutral-faded",attributes:{style:{textTransform:"capitalize"}},children:e.priority})]})}),r.jsx(ae,{})]})}const Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Ju},Symbol.toStringTag,{value:"Module"}));function Zu(){const e=Lo("posts","id");return e?r.jsx(xe,{title:"Blog",subtitle:e.title,children:r.jsxs("article",{style:{maxWidth:"720px",padding:"2rem"},children:[r.jsxs("header",{children:[r.jsx(L,{as:"h1",sx:{fontSize:4,mb:2},children:e.title}),r.jsxs(L,{as:"p",color:"fg.muted",sx:{mb:3},children:[e.author," · ",e.date]}),e.summary&&r.jsx(Gt,{variant:"accent",sx:{mb:3},children:e.summary})]}),r.jsx(L,{as:"div",sx:{mt:3,lineHeight:1.6},children:(e.body||"").split(`

`).map((t,n)=>r.jsx("p",{children:t},n))}),r.jsx("footer",{style:{marginTop:"2rem",borderTop:"1px solid var(--borderColor-muted)",paddingTop:"1rem"},children:r.jsx(Xe,{to:"/posts",children:"← Back to all posts"})})]})}):r.jsx(xe,{title:"Blog",subtitle:"Post",children:r.jsxs("section",{style:{padding:"2rem"},children:[r.jsx(L,{as:"h1",children:"Post not found"}),r.jsx(L,{as:"p",color:"fg.muted",children:"The post you're looking for doesn't exist."}),r.jsx(Xe,{to:"/posts",children:"← Back to all posts"})]})})}const Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Zu},Symbol.toStringTag,{value:"Module"}));function Qu(){const e=Oo("posts");return r.jsx(xe,{title:"Blog",subtitle:"All Posts",children:r.jsxs("section",{style:{maxWidth:"720px",padding:"2rem"},children:[r.jsx(L,{as:"h1",sx:{fontSize:4,mb:3},children:"Blog"}),e.map(t=>r.jsxs("article",{style:{marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid var(--borderColor-muted)"},children:[r.jsx(Xe,{to:`/posts/${t.id}`,style:{textDecoration:"none"},children:r.jsx(L,{as:"h2",sx:{fontSize:2,color:"accent.fg"},children:t.title})}),r.jsxs(L,{as:"p",color:"fg.muted",sx:{fontSize:1,mt:1},children:[t.author," · ",t.date]}),t.summary&&r.jsx(L,{as:"p",sx:{mt:1},children:t.summary})]},t.id))]})})}const ep=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),tp=Object.assign({"/src/pages/Dashboard.jsx":()=>M(()=>Promise.resolve().then(()=>Sr),void 0),"/src/pages/Example.jsx":()=>M(()=>Promise.resolve().then(()=>Cr),void 0),"/src/pages/Forms.jsx":()=>M(()=>Promise.resolve().then(()=>Er),void 0),"/src/pages/Issues.jsx":()=>M(()=>Promise.resolve().then(()=>kr),void 0),"/src/pages/Overview.jsx":()=>M(()=>Promise.resolve().then(()=>Ir),void 0),"/src/pages/Repositories.jsx":()=>M(()=>Promise.resolve().then(()=>Ar),void 0),"/src/pages/SecurityAdvisory.jsx":()=>M(()=>Promise.resolve().then(()=>Tr),void 0),"/src/pages/Signup.jsx":()=>M(()=>Promise.resolve().then(()=>Rr),void 0),"/src/pages/_app.jsx":()=>M(()=>Promise.resolve().then(()=>jr),void 0),"/src/pages/index.jsx":()=>M(()=>Promise.resolve().then(()=>zo),void 0)});function np(){return r.jsx($o,{scenes:wr,pageModules:tp,basePath:"/storyboard-source/"})}const qo=Object.freeze(Object.defineProperty({__proto__:null,default:np},Symbol.toStringTag,{value:"Module"}));var me={route:[/^.*\/src\/pages\/|\.(jsx|tsx|mdx)$/g,""],splat:[/\[\.{3}\w+\]/g,"*"],param:[/\[([^\]]+)\]/g,":$1"],slash:[/^index$|\./g,"/"],optional:[/^-(:?[\w-]+|\*)/,"$1?"]},rp=e=>Object.keys(e).reduce((t,n)=>{const o=n.replace(...me.route);return{...t,[o]:e[n]}},{}),sp=(e,t)=>Object.keys(e).filter(o=>!o.includes("/_")||/_layout\.(jsx|tsx)$/.test(o)).reduce((o,s)=>{const i=e[s],a={id:s.replace(...me.route),...t(i,s)},c=s.replace(...me.route).replace(...me.splat).replace(...me.param).split("/").filter(Boolean);return c.reduce((l,u,d)=>{const p=u.replace(...me.slash).replace(...me.optional),f=d===0,g=d===c.length-1&&c.length>1,_=!f&&!g,b=u==="_layout",h=/\([\w-]+\)/.test(p),v=/^\w|\//.test(p)?"unshift":"push";if(f&&c.length===1)return o.push({path:p,...a}),l;if(f||_){const j=f?o:l.children,S=j?.find(P=>P.path===p||P.id?.replace("/_layout","").split("/").pop()===p),I=h?a?.component?{id:p,path:"/"}:{id:p}:{path:p};return S?S.children??=[]:j?.[v]({...I,children:[]}),S||j?.[v==="unshift"?0:j.length-1]}return b?Object.assign(l,a):(g&&l?.children?.[v](a?.index?a:{path:p,...a}),l)},{}),o},[]),op=e=>Object.keys(e).reduce((t,n)=>{const o=n.replace(...me.route).replace(/\+|\([\w-]+\)\//g,"").replace(/(\/)?index/g,"").replace(/\./g,"/");return{...t,[`/${o}`]:e[n]?.default}},{}),ip=Object.assign({"/src/pages/_app.jsx":jr}),ap=Object.assign({}),cp=Object.assign({"/src/pages/Dashboard.jsx":Sr,"/src/pages/Example.jsx":Cr,"/src/pages/Forms.jsx":Er,"/src/pages/Issues.jsx":kr,"/src/pages/Overview.jsx":Ir,"/src/pages/Repositories.jsx":Ar,"/src/pages/SecurityAdvisory.jsx":Tr,"/src/pages/Signup.jsx":Rr,"/src/pages/index.jsx":zo,"/src/pages/issues/[id].jsx":Fu,"/src/pages/issues/index.jsx":Yu,"/src/pages/posts/[id].jsx":Xu,"/src/pages/posts/index.jsx":ep,"/src/pages/viewfinder.jsx":qo}),Wo=rp(ip),lp=op(ap),dp=sp(cp,(e,t)=>{const n=/index\.(jsx|tsx|mdx)$/.test(t)&&!t.includes("pages/index")?{index:!0}:{},o=e?.default||w.Fragment;return{...n,Component:()=>e?.Pending?r.jsx(w.Suspense,{fallback:r.jsx(e.Pending,{}),children:r.jsx(o,{})}):r.jsx(o,{}),ErrorBoundary:e?.Catch,loader:e?.Loader,action:e?.Action}}),Ye=Wo?._app,up=Wo?.["404"],pp=Ye?.default||fo,fp=()=>{const e=lp[uo().state?.modal]||w.Fragment;return r.jsx(e,{})},Jn=()=>r.jsxs(r.Fragment,{children:[r.jsx(pp,{})," ",r.jsx(fp,{})]}),hp=()=>Ye?.Pending?r.jsx(w.Suspense,{fallback:r.jsx(Ye.Pending,{}),children:r.jsx(Jn,{})}):r.jsx(Jn,{}),mp={Component:Ye?.default?hp:Jn,ErrorBoundary:Ye?.Catch,loader:Ye?.Loader},gp={path:"*",Component:up?.default||w.Fragment},bp=[{...mp,children:[...dp,gp]}];const Nr="sb-comments-token",Lr="sb-comments-user";function Vo(){try{return localStorage.getItem(Nr)}catch{return null}}function xp(e){localStorage.setItem(Nr,e)}function vp(){localStorage.removeItem(Nr),localStorage.removeItem(Lr)}function Or(){try{const e=localStorage.getItem(Lr);return e?JSON.parse(e):null}catch{return null}}async function yp(e){const t=await fetch("https://api.github.com/user",{headers:{Authorization:`bearer ${e}`}});if(!t.ok)throw new Error("Invalid token — GitHub returned "+t.status);const n=await t.json(),o={login:n.login,avatarUrl:n.avatar_url};return localStorage.setItem(Lr,JSON.stringify(o)),o}function on(){return Vo()!==null}let ke=!1;const Yn=new Set;function Jt(){return ke}function _p(){return rn()?!ke&&!on()?(console.warn("[storyboard] Sign in first to use comments"),!1):(ke=!ke,Ko(),ke):(console.warn("[storyboard] Comments not enabled — check storyboard.config.json"),!1)}function Bs(e){ke=e,Ko()}function wp(e){return Yn.add(e),()=>Yn.delete(e)}function Ko(){for(const e of Yn)e(ke)}const zs=/<!--\s*sb-meta\s+(\{.*?\})\s*-->/;function le(e){if(!e)return{meta:null,text:""};const t=e.match(zs);if(!t)return{meta:null,text:e.trim()};try{const n=JSON.parse(t[1]),o=e.replace(zs,"").trim();return{meta:n,text:o}}catch{return{meta:null,text:e.trim()}}}function et(e,t){return`${`<!-- sb-meta ${JSON.stringify(e)} -->`}
${t}`}function jp(e,t){const{meta:n,text:o}=le(e),s={...n,...t};return et(s,o)}const Sp="https://api.github.com/graphql";async function U(e,t={},n={}){const{retries:o=2}=n,s=Vo();if(!s)throw new Error("Not authenticated — no GitHub PAT found. Please sign in.");let i;for(let a=0;a<=o;a++)try{const c=await fetch(Sp,{method:"POST",headers:{Authorization:`bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})});if(c.status===401)throw new Error("GitHub PAT is invalid or expired. Please sign in again.");if(!c.ok)throw new Error(`GitHub API error: ${c.status} ${c.statusText}`);const l=await c.json();if(l.errors?.length)throw new Error(`GraphQL error: ${l.errors.map(u=>u.message).join(", ")}`);return l.data}catch(c){if(i=c,c.message.includes("401")||c.message.includes("Not authenticated")||c.message.includes("invalid or expired"))throw c;a<o&&await new Promise(l=>setTimeout(l,1e3*(a+1)))}throw i}const Cp=`
  query SearchDiscussion($query: String!) {
    search(query: $query, type: DISCUSSION, first: 1) {
      nodes {
        ... on Discussion {
          id
          title
          body
          url
          comments(first: 100) {
            nodes {
              id
              body
              createdAt
              author {
                login
                avatarUrl
              }
              replies(first: 50) {
                nodes {
                  id
                  body
                  createdAt
                  author {
                    login
                    avatarUrl
                  }
                  reactionGroups {
                    content
                    users(first: 0) { totalCount }
                    viewerHasReacted
                  }
                }
              }
              reactionGroups {
                content
                users(first: 0) { totalCount }
                viewerHasReacted
              }
            }
          }
        }
      }
    }
  }
`,Ep=`
  query SearchDiscussionLightweight($query: String!) {
    search(query: $query, type: DISCUSSION, first: 1) {
      nodes {
        ... on Discussion {
          id
          title
          url
          comments(first: 100) {
            nodes {
              id
              body
              author {
                login
                avatarUrl
              }
            }
          }
        }
      }
    }
  }
`,kp=`
  query GetCommentDetail($id: ID!) {
    node(id: $id) {
      ... on DiscussionComment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
        replies(first: 50) {
          nodes {
            id
            body
            createdAt
            author {
              login
              avatarUrl
            }
            reactionGroups {
              content
              users(first: 0) { totalCount }
              viewerHasReacted
            }
          }
        }
        reactionGroups {
          content
          users(first: 0) { totalCount }
          viewerHasReacted
        }
      }
    }
  }
`,Ip=`
  query GetCategoryId($owner: String!, $name: String!, $slug: String!) {
    repository(owner: $owner, name: $name) {
      id
      discussionCategory(slug: $slug) {
        id
      }
      discussionCategories(first: 25) {
        nodes {
          id
          name
          slug
        }
      }
    }
  }
`,Ap=`
  mutation CreateDiscussion($repositoryId: ID!, $categoryId: ID!, $title: String!, $body: String!) {
    createDiscussion(input: { repositoryId: $repositoryId, categoryId: $categoryId, title: $title, body: $body }) {
      discussion {
        id
        title
        url
      }
    }
  }
`,Tp=`
  mutation AddComment($discussionId: ID!, $body: String!) {
    addDiscussionComment(input: { discussionId: $discussionId, body: $body }) {
      comment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
      }
    }
  }
`,Rp=`
  mutation AddReply($discussionId: ID!, $replyToId: ID!, $body: String!) {
    addDiscussionComment(input: { discussionId: $discussionId, body: $body, replyToId: $replyToId }) {
      comment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
      }
    }
  }
`,Ot=`
  mutation UpdateComment($commentId: ID!, $body: String!) {
    updateDiscussionComment(input: { commentId: $commentId, body: $body }) {
      comment {
        id
        body
      }
    }
  }
`,Np=`
  mutation DeleteComment($commentId: ID!) {
    deleteDiscussionComment(input: { id: $commentId }) {
      comment {
        id
      }
    }
  }
`,Lp=`
  mutation AddReaction($subjectId: ID!, $content: ReactionContent!) {
    addReaction(input: { subjectId: $subjectId, content: $content }) {
      reaction {
        content
      }
    }
  }
`,Op=`
  mutation RemoveReaction($subjectId: ID!, $content: ReactionContent!) {
    removeReaction(input: { subjectId: $subjectId, content: $content }) {
      reaction {
        content
      }
    }
  }
`,$p=`
  query ListDiscussions($owner: String!, $name: String!, $categoryId: ID!) {
    repository(owner: $owner, name: $name) {
      discussions(first: 50, categoryId: $categoryId) {
        nodes {
          id
          title
          body
          url
          createdAt
          comments {
            totalCount
          }
        }
      }
    }
  }
`;async function Pp(e){const t=jn(),o=`"${`Comments: ${e}`}" in:title repo:${t.repo.owner}/${t.repo.name}`,i=(await U(Cp,{query:o})).search?.nodes?.[0];if(!i)return null;const a=(i.comments?.nodes??[]).map(c=>{const{meta:l,text:u}=le(c.body);return{...c,meta:l,text:u,replies:(c.replies?.nodes??[]).map(d=>{const{meta:p,text:f}=le(d.body);return{...d,meta:p,text:f}})}});return{...i,comments:a}}async function Mp(e){const t=jn(),o=`"${`Comments: ${e}`}" in:title repo:${t.repo.owner}/${t.repo.name}`,i=(await U(Ep,{query:o})).search?.nodes?.[0];if(!i)return null;const a=(i.comments?.nodes??[]).map(c=>{const{meta:l,text:u}=le(c.body);return{...c,meta:l,text:u}});return{...i,comments:a}}async function Go(e){const n=(await U(kp,{id:e})).node;if(!n)return null;const{meta:o,text:s}=le(n.body),i=(n.replies?.nodes??[]).map(a=>{const{meta:c,text:l}=le(a.body);return{...a,meta:c,text:l}});return{...n,meta:o,text:s,replies:i}}async function Jo(){const e=jn(),t=e.discussions.category.toLowerCase().replace(/\s+/g,"-"),n=await U(Ip,{owner:e.repo.owner,name:e.repo.name,slug:t}),o=n.repository?.id;let s=n.repository?.discussionCategory?.id;if(s||(s=n.repository?.discussionCategories?.nodes?.find(a=>a.name===e.discussions.category)?.id),!o||!s)throw new Error(`Could not find repository or discussion category "${e.discussions.category}" in ${e.repo.owner}/${e.repo.name}`);return{repositoryId:o,categoryId:s}}async function Dp(e,t,n,o){let s=await Pp(e);if(!s){const{repositoryId:c,categoryId:l}=await Jo(),u=`Comments: ${e}`,d=et({route:e,createdAt:new Date().toISOString()},"");s=(await U(Ap,{repositoryId:c,categoryId:l,title:u,body:d})).createDiscussion.discussion}const i=et({x:Math.round(t*10)/10,y:Math.round(n*10)/10},o);return(await U(Tp,{discussionId:s.id,body:i})).addDiscussionComment.comment}async function Bp(e,t,n){return(await U(Rp,{discussionId:e,replyToId:t,body:n})).addDiscussionComment.comment}async function zp(e,t){const{meta:n,text:o}=le(t),s={...n,resolved:!0},i=o.startsWith("(Resolved) ")?o:`(Resolved) ${o}`,a=et(s,i);return(await U(Ot,{commentId:e,body:a})).updateDiscussionComment.comment}async function Hp(e,t){const{meta:n,text:o}=le(t),s={...n};delete s.resolved;const i=o.replace(/^\(Resolved\)\s*/,""),a=et(s,i);return(await U(Ot,{commentId:e,body:a})).updateDiscussionComment.comment}async function Fp(e,t,n){const{meta:o}=le(t),s=o?et(o,n):n;return(await U(Ot,{commentId:e,body:s})).updateDiscussionComment.comment}async function Up(e,t){return(await U(Ot,{commentId:e,body:t})).updateDiscussionComment.comment}async function qp(e,t,n,o){const s=jp(t,{x:Math.round(n*10)/10,y:Math.round(o*10)/10});return(await U(Ot,{commentId:e,body:s})).updateDiscussionComment.comment}async function Wp(e){await U(Np,{commentId:e})}async function Hs(e,t){await U(Lp,{subjectId:e,content:t})}async function Fs(e,t){await U(Op,{subjectId:e,content:t})}async function Am(){const e=jn(),{categoryId:t}=await Jo();return(await U($p,{owner:e.repo.owner,name:e.repo.name,categoryId:t})).repository?.discussions?.nodes??[]}const an="sb-comments:",Vp=120*1e3;function Kp(e){try{const t=localStorage.getItem(an+e);if(!t)return null;const n=JSON.parse(t);return Date.now()-n.ts>Vp?(localStorage.removeItem(an+e),null):n.data}catch{return null}}function Gp(e,t){try{localStorage.setItem(an+e,JSON.stringify({ts:Date.now(),data:t}))}catch{}}function Yo(e){try{localStorage.removeItem(an+e)}catch{}}var Zn=!1,Xn=!1,Re=[],Qn=-1,$r=!1;function Jp(e){Xp(e)}function Yp(){$r=!0}function Zp(){$r=!1,Zo()}function Xp(e){Re.includes(e)||Re.push(e),Zo()}function Qp(e){let t=Re.indexOf(e);t!==-1&&t>Qn&&Re.splice(t,1)}function Zo(){if(!Xn&&!Zn){if($r)return;Zn=!0,queueMicrotask(ef)}}function ef(){Zn=!1,Xn=!0;for(let e=0;e<Re.length;e++)Re[e](),Qn=e;Re.length=0,Qn=-1,Xn=!1}var ot,Be,it,Xo,er=!0;function tf(e){er=!1,e(),er=!0}function nf(e){ot=e.reactive,it=e.release,Be=t=>e.effect(t,{scheduler:n=>{er?Jp(n):n()}}),Xo=e.raw}function Us(e){Be=e}function rf(e){let t=()=>{};return[o=>{let s=Be(o);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(i=>i())}),e._x_effects.add(s),t=()=>{s!==void 0&&(e._x_effects.delete(s),it(s))},s},()=>{t()}]}function Qo(e,t){let n=!0,o,s=Be(()=>{let i=e();if(JSON.stringify(i),!n&&(typeof i=="object"||i!==o)){let a=o;queueMicrotask(()=>{t(i,a)})}o=i,n=!1});return()=>it(s)}async function sf(e){Yp();try{await e(),await Promise.resolve()}finally{Zp()}}var ei=[],ti=[],ni=[];function of(e){ni.push(e)}function Pr(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,ti.push(t))}function ri(e){ei.push(e)}function si(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function oi(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,o])=>{(t===void 0||t.includes(n))&&(o.forEach(s=>s()),delete e._x_attributeCleanups[n])})}function af(e){for(e._x_effects?.forEach(Qp);e._x_cleanups?.length;)e._x_cleanups.pop()()}var Mr=new MutationObserver(Hr),Dr=!1;function Br(){Mr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Dr=!0}function ii(){cf(),Mr.disconnect(),Dr=!1}var pt=[];function cf(){let e=Mr.takeRecords();pt.push(()=>e.length>0&&Hr(e));let t=pt.length;queueMicrotask(()=>{if(pt.length===t)for(;pt.length>0;)pt.shift()()})}function O(e){if(!Dr)return e();ii();let t=e();return Br(),t}var zr=!1,cn=[];function lf(){zr=!0}function df(){zr=!1,Hr(cn),cn=[]}function Hr(e){if(zr){cn=cn.concat(e);return}let t=[],n=new Set,o=new Map,s=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&(e[i].type==="childList"&&(e[i].removedNodes.forEach(a=>{a.nodeType===1&&a._x_marker&&n.add(a)}),e[i].addedNodes.forEach(a=>{if(a.nodeType===1){if(n.has(a)){n.delete(a);return}a._x_marker||t.push(a)}})),e[i].type==="attributes")){let a=e[i].target,c=e[i].attributeName,l=e[i].oldValue,u=()=>{o.has(a)||o.set(a,[]),o.get(a).push({name:c,value:a.getAttribute(c)})},d=()=>{s.has(a)||s.set(a,[]),s.get(a).push(c)};a.hasAttribute(c)&&l===null?u():a.hasAttribute(c)?(d(),u()):d()}s.forEach((i,a)=>{oi(a,i)}),o.forEach((i,a)=>{ei.forEach(c=>c(a,i))});for(let i of n)t.some(a=>a.contains(i))||ti.forEach(a=>a(i));for(let i of t)i.isConnected&&ni.forEach(a=>a(i));t=null,n=null,o=null,s=null}function ai(e){return Pe($e(e))}function $t(e,t,n){return e._x_dataStack=[t,...$e(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(o=>o!==t)}}function $e(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?$e(e.host):e.parentNode?$e(e.parentNode):[]}function Pe(e){return new Proxy({objects:e},uf)}var uf={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?pf:Reflect.get(e.find(o=>Reflect.has(o,t))||{},t,n)},set({objects:e},t,n,o){const s=e.find(a=>Object.prototype.hasOwnProperty.call(a,t))||e[e.length-1],i=Object.getOwnPropertyDescriptor(s,t);return i?.set&&i?.get?i.set.call(o,n)||!0:Reflect.set(s,t,n)}};function pf(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function Fr(e){let t=o=>typeof o=="object"&&!Array.isArray(o)&&o!==null,n=(o,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([i,{value:a,enumerable:c}])=>{if(c===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let l=s===""?i:`${s}.${i}`;typeof a=="object"&&a!==null&&a._x_interceptor?o[i]=a.initialize(e,l,i):t(a)&&a!==o&&!(a instanceof Element)&&n(a,l)})};return n(e)}function ci(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(o,s,i){return e(this.initialValue,()=>ff(o,s),a=>tr(o,s,a),s,i)}};return t(n),o=>{if(typeof o=="object"&&o!==null&&o._x_interceptor){let s=n.initialize.bind(n);n.initialize=(i,a,c)=>{let l=o.initialize(i,a,c);return n.initialValue=l,s(i,a,c)}}else n.initialValue=o;return n}}function ff(e,t){return t.split(".").reduce((n,o)=>n[o],e)}function tr(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),tr(e[t[0]],t.slice(1),n)}}var li={};function Z(e,t){li[e]=t}function St(e,t){let n=hf(t);return Object.entries(li).forEach(([o,s])=>{Object.defineProperty(e,`$${o}`,{get(){return s(t,n)},enumerable:!1})}),e}function hf(e){let[t,n]=bi(e),o={interceptor:ci,...t};return Pr(e,n),o}function mf(e,t,n,...o){try{return n(...o)}catch(s){Ct(s,e,t)}}function Ct(...e){return di(...e)}var di=bf;function gf(e){di=e}function bf(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Ze=!0;function ui(e){let t=Ze;Ze=!1;let n=e();return Ze=t,n}function Ne(e,t,n={}){let o;return W(e,t)(s=>o=s,n),o}function W(...e){return pi(...e)}var pi=hi;function xf(e){pi=e}var fi;function vf(e){fi=e}function hi(e,t){let n={};St(n,e);let o=[n,...$e(e)],s=typeof t=="function"?yf(o,t):wf(o,t,e);return mf.bind(null,e,t,s)}function yf(e,t){return(n=()=>{},{scope:o={},params:s=[],context:i}={})=>{if(!Ze){Et(n,t,Pe([o,...e]),s);return}let a=t.apply(Pe([o,...e]),s);Et(n,a)}}var Fn={};function _f(e,t){if(Fn[e])return Fn[e];let n=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,i=(()=>{try{let a=new n(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${e}`}),a}catch(a){return Ct(a,t,e),Promise.resolve()}})();return Fn[e]=i,i}function wf(e,t,n){let o=_f(t,n);return(s=()=>{},{scope:i={},params:a=[],context:c}={})=>{o.result=void 0,o.finished=!1;let l=Pe([i,...e]);if(typeof o=="function"){let u=o.call(c,o,l).catch(d=>Ct(d,n,t));o.finished?(Et(s,o.result,l,a,n),o.result=void 0):u.then(d=>{Et(s,d,l,a,n)}).catch(d=>Ct(d,n,t)).finally(()=>o.result=void 0)}}}function Et(e,t,n,o,s){if(Ze&&typeof t=="function"){let i=t.apply(n,o);i instanceof Promise?i.then(a=>Et(e,a,n,o)).catch(a=>Ct(a,s,t)):e(i)}else typeof t=="object"&&t instanceof Promise?t.then(i=>e(i)):e(t)}function jf(...e){return fi(...e)}function Sf(e,t,n={}){let o={};St(o,e);let s=[o,...$e(e)],i=Pe([n.scope??{},...s]),a=n.params??[];if(t.includes("await")){let c=Object.getPrototypeOf(async function(){}).constructor,l=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t;return new c(["scope"],`with (scope) { let __result = ${l}; return __result }`).call(n.context,i)}else{let c=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(()=>{ ${t} })()`:t,u=new Function(["scope"],`with (scope) { let __result = ${c}; return __result }`).call(n.context,i);return typeof u=="function"&&Ze?u.apply(i,a):u}}var Ur="x-";function at(e=""){return Ur+e}function Cf(e){Ur=e}var ln={};function D(e,t){return ln[e]=t,{before(n){if(!ln[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const o=Ie.indexOf(n);Ie.splice(o>=0?o:Ie.indexOf("DEFAULT"),0,e)}}}function Ef(e){return Object.keys(ln).includes(e)}function qr(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let i=Object.entries(e._x_virtualDirectives).map(([c,l])=>({name:c,value:l})),a=mi(i);i=i.map(c=>a.find(l=>l.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),t=t.concat(i)}let o={};return t.map(yi((i,a)=>o[i]=a)).filter(wi).map(Af(o,n)).sort(Tf).map(i=>If(e,i))}function mi(e){return Array.from(e).map(yi()).filter(t=>!wi(t))}var nr=!1,gt=new Map,gi=Symbol();function kf(e){nr=!0;let t=Symbol();gi=t,gt.set(t,[]);let n=()=>{for(;gt.get(t).length;)gt.get(t).shift()();gt.delete(t)},o=()=>{nr=!1,n()};e(n),o()}function bi(e){let t=[],n=c=>t.push(c),[o,s]=rf(e);return t.push(s),[{Alpine:lt,effect:o,cleanup:n,evaluateLater:W.bind(W,e),evaluate:Ne.bind(Ne,e)},()=>t.forEach(c=>c())]}function If(e,t){let n=()=>{},o=ln[t.type]||n,[s,i]=bi(e);si(e,t.original,i);let a=()=>{e._x_ignore||e._x_ignoreSelf||(o.inline&&o.inline(e,t,s),o=o.bind(o,e,t,s),nr?gt.get(gi).push(o):o())};return a.runCleanups=i,a}var xi=(e,t)=>({name:n,value:o})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:o}),vi=e=>e;function yi(e=()=>{}){return({name:t,value:n})=>{let{name:o,value:s}=_i.reduce((i,a)=>a(i),{name:t,value:n});return o!==t&&e(o,t),{name:o,value:s}}}var _i=[];function Wr(e){_i.push(e)}function wi({name:e}){return ji().test(e)}var ji=()=>new RegExp(`^${Ur}([^:^.]+)\\b`);function Af(e,t){return({name:n,value:o})=>{n===o&&(o="");let s=n.match(ji()),i=n.match(/:([a-zA-Z0-9\-_:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],c=t||e[n]||n;return{type:s?s[1]:null,value:i?i[1]:null,modifiers:a.map(l=>l.replace(".","")),expression:o,original:c}}}var rr="DEFAULT",Ie=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",rr,"teleport"];function Tf(e,t){let n=Ie.indexOf(e.type)===-1?rr:e.type,o=Ie.indexOf(t.type)===-1?rr:t.type;return Ie.indexOf(n)-Ie.indexOf(o)}function vt(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Me(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(s=>Me(s,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let o=e.firstElementChild;for(;o;)Me(o,t),o=o.nextElementSibling}function G(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var qs=!1;function Rf(){qs&&G("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),qs=!0,document.body||G("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),vt(document,"alpine:init"),vt(document,"alpine:initializing"),Br(),of(t=>de(t,Me)),Pr(t=>ct(t)),ri((t,n)=>{qr(t,n).forEach(o=>o())});let e=t=>!Cn(t.parentElement,!0);Array.from(document.querySelectorAll(Ei().join(","))).filter(e).forEach(t=>{de(t)}),vt(document,"alpine:initialized"),setTimeout(()=>{$f()})}var Vr=[],Si=[];function Ci(){return Vr.map(e=>e())}function Ei(){return Vr.concat(Si).map(e=>e())}function ki(e){Vr.push(e)}function Ii(e){Si.push(e)}function Cn(e,t=!1){return De(e,n=>{if((t?Ei():Ci()).some(s=>n.matches(s)))return!0})}function De(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentNode instanceof ShadowRoot)return De(e.parentNode.host,t);if(e.parentElement)return De(e.parentElement,t)}}function Nf(e){return Ci().some(t=>e.matches(t))}var Ai=[];function Lf(e){Ai.push(e)}var Of=1;function de(e,t=Me,n=()=>{}){De(e,o=>o._x_ignore)||kf(()=>{t(e,(o,s)=>{o._x_marker||(n(o,s),Ai.forEach(i=>i(o,s)),qr(o,o.attributes).forEach(i=>i()),o._x_ignore||(o._x_marker=Of++),o._x_ignore&&s())})})}function ct(e,t=Me){t(e,n=>{af(n),oi(n),delete n._x_marker})}function $f(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,o])=>{Ef(n)||o.some(s=>{if(document.querySelector(s))return G(`found "${s}", but missing ${t} plugin`),!0})})}var sr=[],Kr=!1;function Gr(e=()=>{}){return queueMicrotask(()=>{Kr||setTimeout(()=>{or()})}),new Promise(t=>{sr.push(()=>{e(),t()})})}function or(){for(Kr=!1;sr.length;)sr.shift()()}function Pf(){Kr=!0}function Jr(e,t){return Array.isArray(t)?Ws(e,t.join(" ")):typeof t=="object"&&t!==null?Mf(e,t):typeof t=="function"?Jr(e,t()):Ws(e,t)}function Ws(e,t){let n=s=>s.split(" ").filter(i=>!e.classList.contains(i)).filter(Boolean),o=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",o(n(t))}function Mf(e,t){let n=c=>c.split(" ").filter(Boolean),o=Object.entries(t).flatMap(([c,l])=>l?n(c):!1).filter(Boolean),s=Object.entries(t).flatMap(([c,l])=>l?!1:n(c)).filter(Boolean),i=[],a=[];return s.forEach(c=>{e.classList.contains(c)&&(e.classList.remove(c),a.push(c))}),o.forEach(c=>{e.classList.contains(c)||(e.classList.add(c),i.push(c))}),()=>{a.forEach(c=>e.classList.add(c)),i.forEach(c=>e.classList.remove(c))}}function En(e,t){return typeof t=="object"&&t!==null?Df(e,t):Bf(e,t)}function Df(e,t){let n={};return Object.entries(t).forEach(([o,s])=>{n[o]=e.style[o],o.startsWith("--")||(o=zf(o)),e.style.setProperty(o,s)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{En(e,n)}}function Bf(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function zf(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ir(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}D("transition",(e,{value:t,modifiers:n,expression:o},{evaluate:s})=>{typeof o=="function"&&(o=s(o)),o!==!1&&(!o||typeof o=="boolean"?Ff(e,n,t):Hf(e,o,t))});function Hf(e,t,n){Ti(e,Jr,""),{enter:s=>{e._x_transition.enter.during=s},"enter-start":s=>{e._x_transition.enter.start=s},"enter-end":s=>{e._x_transition.enter.end=s},leave:s=>{e._x_transition.leave.during=s},"leave-start":s=>{e._x_transition.leave.start=s},"leave-end":s=>{e._x_transition.leave.end=s}}[n](t)}function Ff(e,t,n){Ti(e,En);let o=!t.includes("in")&&!t.includes("out")&&!n,s=o||t.includes("in")||["enter"].includes(n),i=o||t.includes("out")||["leave"].includes(n);t.includes("in")&&!o&&(t=t.filter((v,j)=>j<t.indexOf("out"))),t.includes("out")&&!o&&(t=t.filter((v,j)=>j>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),c=a||t.includes("opacity"),l=a||t.includes("scale"),u=c?0:1,d=l?ft(t,"scale",95)/100:1,p=ft(t,"delay",0)/1e3,f=ft(t,"origin","center"),g="opacity, transform",_=ft(t,"duration",150)/1e3,b=ft(t,"duration",75)/1e3,h="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(e._x_transition.enter.during={transformOrigin:f,transitionDelay:`${p}s`,transitionProperty:g,transitionDuration:`${_}s`,transitionTimingFunction:h},e._x_transition.enter.start={opacity:u,transform:`scale(${d})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:f,transitionDelay:`${p}s`,transitionProperty:g,transitionDuration:`${b}s`,transitionTimingFunction:h},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${d})`})}function Ti(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(o=()=>{},s=()=>{}){ar(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,s)},out(o=()=>{},s=()=>{}){ar(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,o){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let i=()=>s(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((a,c)=>{e._x_transition.out(()=>{},()=>a(o)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>c({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let a=Ri(e);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(e)):s(()=>{let c=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(c)]).then(([d])=>d?.());return delete l._x_hidePromise,delete l._x_hideChildren,u};c(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Ri(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Ri(t)}function ar(e,t,{during:n,start:o,end:s}={},i=()=>{},a=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(o).length===0&&Object.keys(s).length===0){i(),a();return}let c,l,u;Uf(e,{start(){c=t(e,o)},during(){l=t(e,n)},before:i,end(){c(),u=t(e,s)},after:a,cleanup(){l(),u()}})}function Uf(e,t){let n,o,s,i=ir(()=>{O(()=>{n=!0,o||t.before(),s||(t.end(),or()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:ir(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()}),finish:i},O(()=>{t.start(),t.during()}),Pf(),requestAnimationFrame(()=>{if(n)return;let a=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,c=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),O(()=>{t.before()}),o=!0,requestAnimationFrame(()=>{n||(O(()=>{t.end()}),or(),setTimeout(e._x_transitioning.finish,a+c),s=!0)})})}function ft(e,t,n){if(e.indexOf(t)===-1)return n;const o=e[e.indexOf(t)+1];if(!o||t==="scale"&&isNaN(o))return n;if(t==="duration"||t==="delay"){let s=o.match(/([0-9]+)ms/);if(s)return s[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[o,e[e.indexOf(t)+2]].join(" "):o}var ve=!1;function _e(e,t=()=>{}){return(...n)=>ve?t(...n):e(...n)}function qf(e){return(...t)=>ve&&e(...t)}var Ni=[];function kn(e){Ni.push(e)}function Wf(e,t){Ni.forEach(n=>n(e,t)),ve=!0,Li(()=>{de(t,(n,o)=>{o(n,()=>{})})}),ve=!1}var cr=!1;function Vf(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ve=!0,cr=!0,Li(()=>{Kf(t)}),ve=!1,cr=!1}function Kf(e){let t=!1;de(e,(o,s)=>{Me(o,(i,a)=>{if(t&&Nf(i))return a();t=!0,s(i,a)})})}function Li(e){let t=Be;Us((n,o)=>{let s=t(n);return it(s),()=>{}}),e(),Us(t)}function Oi(e,t,n,o=[]){switch(e._x_bindings||(e._x_bindings=ot({})),e._x_bindings[t]=n,t=o.includes("camel")?th(t):t,t){case"value":Gf(e,n);break;case"style":Yf(e,n);break;case"class":Jf(e,n);break;case"selected":case"checked":Zf(e,t,n);break;default:$i(e,t,n);break}}function Gf(e,t){if(Di(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=Yt(e.value)===t:e.checked=Vs(e.value,t));else if(Yr(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Vs(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")eh(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function Jf(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Jr(e,t)}function Yf(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=En(e,t)}function Zf(e,t,n){$i(e,t,n),Qf(e,t,n)}function $i(e,t,n){[null,void 0,!1].includes(n)&&rh(t)?e.removeAttribute(t):(Pi(t)&&(n=t),Xf(e,t,n))}function Xf(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function Qf(e,t,n){e[t]!==n&&(e[t]=n)}function eh(e,t){const n=[].concat(t).map(o=>o+"");Array.from(e.options).forEach(o=>{o.selected=n.includes(o.value)})}function th(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Vs(e,t){return e==t}function Yt(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var nh=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Pi(e){return nh.has(e)}function rh(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function sh(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Mi(e,t,n)}function oh(e,t,n,o=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let s=e._x_inlineBindings[t];return s.extract=o,ui(()=>Ne(e,s.expression))}return Mi(e,t,n)}function Mi(e,t,n){let o=e.getAttribute(t);return o===null?typeof n=="function"?n():n:o===""?!0:Pi(t)?!![t,"true"].includes(o):o}function Yr(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function Di(e){return e.type==="radio"||e.localName==="ui-radio"}function Bi(e,t){let n;return function(){const o=this,s=arguments,i=function(){n=null,e.apply(o,s)};clearTimeout(n),n=setTimeout(i,t)}}function zi(e,t){let n;return function(){let o=this,s=arguments;n||(e.apply(o,s),n=!0,setTimeout(()=>n=!1,t))}}function Hi({get:e,set:t},{get:n,set:o}){let s=!0,i,a=Be(()=>{let c=e(),l=n();if(s)o(Un(c)),s=!1;else{let u=JSON.stringify(c),d=JSON.stringify(l);u!==i?o(Un(c)):u!==d&&t(Un(l))}i=JSON.stringify(e()),JSON.stringify(n())});return()=>{it(a)}}function Un(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function ih(e){(Array.isArray(e)?e:[e]).forEach(n=>n(lt))}var Ce={},Ks=!1;function ah(e,t){if(Ks||(Ce=ot(Ce),Ks=!0),t===void 0)return Ce[e];Ce[e]=t,Fr(Ce[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Ce[e].init()}function ch(){return Ce}var Fi={};function lh(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?Ui(e,n()):(Fi[e]=n,()=>{})}function dh(e){return Object.entries(Fi).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...o)=>n(...o)}})}),e}function Ui(e,t,n){let o=[];for(;o.length;)o.pop()();let s=Object.entries(t).map(([a,c])=>({name:a,value:c})),i=mi(s);return s=s.map(a=>i.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),qr(e,s,n).map(a=>{o.push(a.runCleanups),a()}),()=>{for(;o.length;)o.pop()()}}var qi={};function uh(e,t){qi[e]=t}function ph(e,t){return Object.entries(qi).forEach(([n,o])=>{Object.defineProperty(e,n,{get(){return(...s)=>o.bind(t)(...s)},enumerable:!1})}),e}var fh={get reactive(){return ot},get release(){return it},get effect(){return Be},get raw(){return Xo},get transaction(){return sf},version:"3.15.8",flushAndStopDeferringMutations:df,dontAutoEvaluateFunctions:ui,disableEffectScheduling:tf,startObservingMutations:Br,stopObservingMutations:ii,setReactivityEngine:nf,onAttributeRemoved:si,onAttributesAdded:ri,closestDataStack:$e,skipDuringClone:_e,onlyDuringClone:qf,addRootSelector:ki,addInitSelector:Ii,setErrorHandler:gf,interceptClone:kn,addScopeToNode:$t,deferMutations:lf,mapAttributes:Wr,evaluateLater:W,interceptInit:Lf,initInterceptors:Fr,injectMagics:St,setEvaluator:xf,setRawEvaluator:vf,mergeProxies:Pe,extractProp:oh,findClosest:De,onElRemoved:Pr,closestRoot:Cn,destroyTree:ct,interceptor:ci,transition:ar,setStyles:En,mutateDom:O,directive:D,entangle:Hi,throttle:zi,debounce:Bi,evaluate:Ne,evaluateRaw:jf,initTree:de,nextTick:Gr,prefixed:at,prefix:Cf,plugin:ih,magic:Z,store:ah,start:Rf,clone:Vf,cloneNode:Wf,bound:sh,$data:ai,watch:Qo,walk:Me,data:uh,bind:lh},lt=fh;function hh(e,t){const n=Object.create(null),o=e.split(",");for(let s=0;s<o.length;s++)n[o[s]]=!0;return s=>!!n[s]}var mh=Object.freeze({}),gh=Object.prototype.hasOwnProperty,In=(e,t)=>gh.call(e,t),Le=Array.isArray,yt=e=>Wi(e)==="[object Map]",bh=e=>typeof e=="string",Zr=e=>typeof e=="symbol",An=e=>e!==null&&typeof e=="object",xh=Object.prototype.toString,Wi=e=>xh.call(e),Vi=e=>Wi(e).slice(8,-1),Xr=e=>bh(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},yh=vh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ki=(e,t)=>e!==t&&(e===e||t===t),lr=new WeakMap,ht=[],Q,Oe=Symbol("iterate"),dr=Symbol("Map key iterate");function _h(e){return e&&e._isEffect===!0}function wh(e,t=mh){_h(e)&&(e=e.raw);const n=Ch(e,t);return t.lazy||n(),n}function jh(e){e.active&&(Gi(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Sh=0;function Ch(e,t){const n=function(){if(!n.active)return e();if(!ht.includes(n)){Gi(n);try{return kh(),ht.push(n),Q=n,e()}finally{ht.pop(),Ji(),Q=ht[ht.length-1]}}};return n.id=Sh++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function Gi(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var tt=!0,Qr=[];function Eh(){Qr.push(tt),tt=!1}function kh(){Qr.push(tt),tt=!0}function Ji(){const e=Qr.pop();tt=e===void 0?!0:e}function Y(e,t,n){if(!tt||Q===void 0)return;let o=lr.get(e);o||lr.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=new Set),s.has(Q)||(s.add(Q),Q.deps.push(s),Q.options.onTrack&&Q.options.onTrack({effect:Q,target:e,type:t,key:n}))}function ye(e,t,n,o,s,i){const a=lr.get(e);if(!a)return;const c=new Set,l=d=>{d&&d.forEach(p=>{(p!==Q||p.allowRecurse)&&c.add(p)})};if(t==="clear")a.forEach(l);else if(n==="length"&&Le(e))a.forEach((d,p)=>{(p==="length"||p>=o)&&l(d)});else switch(n!==void 0&&l(a.get(n)),t){case"add":Le(e)?Xr(n)&&l(a.get("length")):(l(a.get(Oe)),yt(e)&&l(a.get(dr)));break;case"delete":Le(e)||(l(a.get(Oe)),yt(e)&&l(a.get(dr)));break;case"set":yt(e)&&l(a.get(Oe));break}const u=d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:e,key:n,type:t,newValue:o,oldValue:s,oldTarget:i}),d.options.scheduler?d.options.scheduler(d):d()};c.forEach(u)}var Ih=hh("__proto__,__v_isRef,__isVue"),Yi=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Zr)),Ah=Zi(),Th=Zi(!0),Gs=Rh();function Rh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=N(this);for(let i=0,a=this.length;i<a;i++)Y(o,"get",i+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(N)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Eh();const o=N(this)[t].apply(this,n);return Ji(),o}}),e}function Zi(e=!1,t=!1){return function(o,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_raw"&&i===(e?t?Wh:ta:t?qh:ea).get(o))return o;const a=Le(o);if(!e&&a&&In(Gs,s))return Reflect.get(Gs,s,i);const c=Reflect.get(o,s,i);return(Zr(s)?Yi.has(s):Ih(s))||(e||Y(o,"get",s),t)?c:ur(c)?!a||!Xr(s)?c.value:c:An(c)?e?na(c):rs(c):c}}var Nh=Lh();function Lh(e=!1){return function(n,o,s,i){let a=n[o];if(!e&&(s=N(s),a=N(a),!Le(n)&&ur(a)&&!ur(s)))return a.value=s,!0;const c=Le(n)&&Xr(o)?Number(o)<n.length:In(n,o),l=Reflect.set(n,o,s,i);return n===N(i)&&(c?Ki(s,a)&&ye(n,"set",o,s,a):ye(n,"add",o,s)),l}}function Oh(e,t){const n=In(e,t),o=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&ye(e,"delete",t,void 0,o),s}function $h(e,t){const n=Reflect.has(e,t);return(!Zr(t)||!Yi.has(t))&&Y(e,"has",t),n}function Ph(e){return Y(e,"iterate",Le(e)?"length":Oe),Reflect.ownKeys(e)}var Mh={get:Ah,set:Nh,deleteProperty:Oh,has:$h,ownKeys:Ph},Dh={get:Th,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},es=e=>An(e)?rs(e):e,ts=e=>An(e)?na(e):e,ns=e=>e,Tn=e=>Reflect.getPrototypeOf(e);function Ht(e,t,n=!1,o=!1){e=e.__v_raw;const s=N(e),i=N(t);t!==i&&!n&&Y(s,"get",t),!n&&Y(s,"get",i);const{has:a}=Tn(s),c=o?ns:n?ts:es;if(a.call(s,t))return c(e.get(t));if(a.call(s,i))return c(e.get(i));e!==s&&e.get(t)}function Ft(e,t=!1){const n=this.__v_raw,o=N(n),s=N(e);return e!==s&&!t&&Y(o,"has",e),!t&&Y(o,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function Ut(e,t=!1){return e=e.__v_raw,!t&&Y(N(e),"iterate",Oe),Reflect.get(e,"size",e)}function Js(e){e=N(e);const t=N(this);return Tn(t).has.call(t,e)||(t.add(e),ye(t,"add",e,e)),this}function Ys(e,t){t=N(t);const n=N(this),{has:o,get:s}=Tn(n);let i=o.call(n,e);i?Qi(n,o,e):(e=N(e),i=o.call(n,e));const a=s.call(n,e);return n.set(e,t),i?Ki(t,a)&&ye(n,"set",e,t,a):ye(n,"add",e,t),this}function Zs(e){const t=N(this),{has:n,get:o}=Tn(t);let s=n.call(t,e);s?Qi(t,n,e):(e=N(e),s=n.call(t,e));const i=o?o.call(t,e):void 0,a=t.delete(e);return s&&ye(t,"delete",e,void 0,i),a}function Xs(){const e=N(this),t=e.size!==0,n=yt(e)?new Map(e):new Set(e),o=e.clear();return t&&ye(e,"clear",void 0,void 0,n),o}function qt(e,t){return function(o,s){const i=this,a=i.__v_raw,c=N(a),l=t?ns:e?ts:es;return!e&&Y(c,"iterate",Oe),a.forEach((u,d)=>o.call(s,l(u),l(d),i))}}function Wt(e,t,n){return function(...o){const s=this.__v_raw,i=N(s),a=yt(i),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=s[e](...o),d=n?ns:t?ts:es;return!t&&Y(i,"iterate",l?dr:Oe),{next(){const{value:p,done:f}=u.next();return f?{value:p,done:f}:{value:c?[d(p[0]),d(p[1])]:d(p),done:f}},[Symbol.iterator](){return this}}}}function he(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${yh(e)} operation ${n}failed: target is readonly.`,N(this))}return e==="delete"?!1:this}}function Bh(){const e={get(i){return Ht(this,i)},get size(){return Ut(this)},has:Ft,add:Js,set:Ys,delete:Zs,clear:Xs,forEach:qt(!1,!1)},t={get(i){return Ht(this,i,!1,!0)},get size(){return Ut(this)},has:Ft,add:Js,set:Ys,delete:Zs,clear:Xs,forEach:qt(!1,!0)},n={get(i){return Ht(this,i,!0)},get size(){return Ut(this,!0)},has(i){return Ft.call(this,i,!0)},add:he("add"),set:he("set"),delete:he("delete"),clear:he("clear"),forEach:qt(!0,!1)},o={get(i){return Ht(this,i,!0,!0)},get size(){return Ut(this,!0)},has(i){return Ft.call(this,i,!0)},add:he("add"),set:he("set"),delete:he("delete"),clear:he("clear"),forEach:qt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Wt(i,!1,!1),n[i]=Wt(i,!0,!1),t[i]=Wt(i,!1,!0),o[i]=Wt(i,!0,!0)}),[e,n,t,o]}var[zh,Hh]=Bh();function Xi(e,t){const n=e?Hh:zh;return(o,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(In(n,s)&&s in o?n:o,s,i)}var Fh={get:Xi(!1)},Uh={get:Xi(!0)};function Qi(e,t,n){const o=N(n);if(o!==n&&t.call(e,o)){const s=Vi(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ea=new WeakMap,qh=new WeakMap,ta=new WeakMap,Wh=new WeakMap;function Vh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kh(e){return e.__v_skip||!Object.isExtensible(e)?0:Vh(Vi(e))}function rs(e){return e&&e.__v_isReadonly?e:ra(e,!1,Mh,Fh,ea)}function na(e){return ra(e,!0,Dh,Uh,ta)}function ra(e,t,n,o,s){if(!An(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=Kh(e);if(a===0)return e;const c=new Proxy(e,a===2?o:n);return s.set(e,c),c}function N(e){return e&&N(e.__v_raw)||e}function ur(e){return!!(e&&e.__v_isRef===!0)}Z("nextTick",()=>Gr);Z("dispatch",e=>vt.bind(vt,e));Z("watch",(e,{evaluateLater:t,cleanup:n})=>(o,s)=>{let i=t(o),c=Qo(()=>{let l;return i(u=>l=u),l},s);n(c)});Z("store",ch);Z("data",e=>ai(e));Z("root",e=>Cn(e));Z("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Pe(Gh(e))),e._x_refs_proxy));function Gh(e){let t=[];return De(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var qn={};function sa(e){return qn[e]||(qn[e]=0),++qn[e]}function Jh(e,t){return De(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function Yh(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=sa(t))}Z("id",(e,{cleanup:t})=>(n,o=null)=>{let s=`${n}${o?`-${o}`:""}`;return Zh(e,s,t,()=>{let i=Jh(e,n),a=i?i._x_ids[n]:sa(n);return o?`${n}-${a}-${o}`:`${n}-${a}`})});kn((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function Zh(e,t,n,o){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let s=o();return e._x_id[t]=s,n(()=>{delete e._x_id[t]}),s}Z("el",e=>e);oa("Focus","focus","focus");oa("Persist","persist","persist");function oa(e,t,n){Z(t,o=>G(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,o))}D("modelable",(e,{expression:t},{effect:n,evaluateLater:o,cleanup:s})=>{let i=o(t),a=()=>{let d;return i(p=>d=p),d},c=o(`${t} = __placeholder`),l=d=>c(()=>{},{scope:{__placeholder:d}}),u=a();l(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let d=e._x_model.get,p=e._x_model.set,f=Hi({get(){return d()},set(g){p(g)}},{get(){return a()},set(g){l(g)}});s(f)})});D("teleport",(e,{modifiers:t,expression:n},{cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&G("x-teleport can only be used on a <template> tag",e);let s=Qs(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(c=>{i.addEventListener(c,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),$t(i,{},e);let a=(c,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(c,l):u.includes("append")?l.parentNode.insertBefore(c,l.nextSibling):l.appendChild(c)};O(()=>{a(i,s,t),_e(()=>{de(i)})()}),e._x_teleportPutBack=()=>{let c=Qs(n);O(()=>{a(e._x_teleport,c,t)})},o(()=>O(()=>{i.remove(),ct(i)}))});var Xh=document.createElement("div");function Qs(e){let t=_e(()=>document.querySelector(e),()=>Xh)();return t||G(`Cannot find x-teleport element for selector: "${e}"`),t}var ia=()=>{};ia.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};D("ignore",ia);D("effect",_e((e,{expression:t},{effect:n})=>{n(W(e,t))}));function Ue(e,t,n,o){let s=e,i=l=>o(l),a={},c=(l,u)=>d=>u(l,d);if(n.includes("dot")&&(t=Qh(t)),n.includes("camel")&&(t=em(t)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(s=window),n.includes("document")&&(s=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",u=dn(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=Bi(i,u)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",u=dn(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=zi(i,u)}return n.includes("prevent")&&(i=c(i,(l,u)=>{u.preventDefault(),l(u)})),n.includes("stop")&&(i=c(i,(l,u)=>{u.stopPropagation(),l(u)})),n.includes("once")&&(i=c(i,(l,u)=>{l(u),s.removeEventListener(t,i,a)})),(n.includes("away")||n.includes("outside"))&&(s=document,i=c(i,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),n.includes("self")&&(i=c(i,(l,u)=>{u.target===e&&l(u)})),t==="submit"&&(i=c(i,(l,u)=>{u.target._x_pendingModelUpdates&&u.target._x_pendingModelUpdates.forEach(d=>d()),l(u)})),(nm(t)||aa(t))&&(i=c(i,(l,u)=>{rm(u,n)||l(u)})),s.addEventListener(t,i,a),()=>{s.removeEventListener(t,i,a)}}function Qh(e){return e.replace(/-/g,".")}function em(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function dn(e){return!Array.isArray(e)&&!isNaN(e)}function tm(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function nm(e){return["keydown","keyup"].includes(e)}function aa(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function rm(e,t){let n=t.filter(i=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll","blur","change","lazy"].includes(i));if(n.includes("debounce")){let i=n.indexOf("debounce");n.splice(i,dn((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let i=n.indexOf("throttle");n.splice(i,dn((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&eo(e.key).includes(n[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(i=>n.includes(i));return n=n.filter(i=>!s.includes(i)),!(s.length>0&&s.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),e[`${a}Key`])).length===s.length&&(aa(e.type)||eo(e.key).includes(n[0])))}function eo(e){if(!e)return[];e=tm(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}D("model",(e,{modifiers:t,expression:n},{effect:o,cleanup:s})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let a=W(i,n),c;typeof n=="string"?c=W(i,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?c=W(i,`${n()} = __placeholder`):c=()=>{};let l=()=>{let b;return a(h=>b=h),to(b)?b.get():b},u=b=>{let h;a(v=>h=v),to(h)?h.set(b):c(()=>{},{scope:{__placeholder:b}})};typeof n=="string"&&e.type==="radio"&&O(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});let d=t.includes("change")||t.includes("lazy"),p=t.includes("blur"),f=t.includes("enter"),g=d||p||f,_;if(ve)_=()=>{};else if(g){let b=[],h=v=>u(Vt(e,t,v,l()));if(d&&b.push(Ue(e,"change",t,h)),p&&(b.push(Ue(e,"blur",t,h)),e.form)){let v=()=>h({target:e});e.form._x_pendingModelUpdates||(e.form._x_pendingModelUpdates=[]),e.form._x_pendingModelUpdates.push(v),s(()=>e.form._x_pendingModelUpdates.splice(e.form._x_pendingModelUpdates.indexOf(v),1))}f&&b.push(Ue(e,"keydown",t,v=>{v.key==="Enter"&&h(v)})),_=()=>b.forEach(v=>v())}else{let b=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)?"change":"input";_=Ue(e,b,t,h=>{u(Vt(e,t,h,l()))})}if(t.includes("fill")&&([void 0,null,""].includes(l())||Yr(e)&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&u(Vt(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=_,s(()=>e._x_removeModelListeners.default()),e.form){let b=Ue(e.form,"reset",[],h=>{Gr(()=>e._x_model&&e._x_model.set(Vt(e,t,{target:e},l())))});s(()=>b())}e._x_model={get(){return l()},set(b){u(b)}},e._x_forceModelUpdate=b=>{b===void 0&&typeof n=="string"&&n.match(/\./)&&(b=""),window.fromModel=!0,O(()=>Oi(e,"value",b)),delete window.fromModel},o(()=>{let b=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(b)})});function Vt(e,t,n,o){return O(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(Yr(e))if(Array.isArray(o)){let s=null;return t.includes("number")?s=Wn(n.target.value):t.includes("boolean")?s=Yt(n.target.value):s=n.target.value,n.target.checked?o.includes(s)?o:o.concat([s]):o.filter(i=>!sm(i,s))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Wn(i)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Yt(i)}):Array.from(n.target.selectedOptions).map(s=>s.value||s.text);{let s;return Di(e)?n.target.checked?s=n.target.value:s=o:s=n.target.value,t.includes("number")?Wn(s):t.includes("boolean")?Yt(s):t.includes("trim")?s.trim():s}}})}function Wn(e){let t=e?parseFloat(e):null;return om(t)?t:e}function sm(e,t){return e==t}function om(e){return!Array.isArray(e)&&!isNaN(e)}function to(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}D("cloak",e=>queueMicrotask(()=>O(()=>e.removeAttribute(at("cloak")))));Ii(()=>`[${at("init")}]`);D("init",_e((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));D("text",(e,{expression:t},{effect:n,evaluateLater:o})=>{let s=o(t);n(()=>{s(i=>{O(()=>{e.textContent=i})})})});D("html",(e,{expression:t},{effect:n,evaluateLater:o})=>{let s=o(t);n(()=>{s(i=>{O(()=>{e.innerHTML=i,e._x_ignoreSelf=!0,de(e),delete e._x_ignoreSelf})})})});Wr(xi(":",vi(at("bind:"))));var ca=(e,{value:t,modifiers:n,expression:o,original:s},{effect:i,cleanup:a})=>{if(!t){let l={};dh(l),W(e,o)(d=>{Ui(e,d,s)},{scope:l});return}if(t==="key")return im(e,o);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let c=W(e,o);i(()=>c(l=>{l===void 0&&typeof o=="string"&&o.match(/\./)&&(l=""),O(()=>Oi(e,t,l,n))})),a(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};ca.inline=(e,{value:t,modifiers:n,expression:o})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:o,extract:!1})};D("bind",ca);function im(e,t){e._x_keyExpression=t}ki(()=>`[${at("data")}]`);D("data",(e,{expression:t},{cleanup:n})=>{if(am(e))return;t=t===""?"{}":t;let o={};St(o,e);let s={};ph(s,o);let i=Ne(e,t,{scope:s});(i===void 0||i===!0)&&(i={}),St(i,e);let a=ot(i);Fr(a);let c=$t(e,a);a.init&&Ne(e,a.init),n(()=>{a.destroy&&Ne(e,a.destroy),c()})});kn((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function am(e){return ve?cr?!0:e.hasAttribute("data-has-alpine-state"):!1}D("show",(e,{modifiers:t,expression:n},{effect:o})=>{let s=W(e,n);e._x_doHide||(e._x_doHide=()=>{O(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{O(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let i=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},c=()=>setTimeout(a),l=ir(p=>p?a():i(),p=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,p,a,i):p?c():i()}),u,d=!0;o(()=>s(p=>{!d&&p===u||(t.includes("immediate")&&(p?c():i()),l(p),u=p,d=!1)}))});D("for",(e,{expression:t},{effect:n,cleanup:o})=>{let s=lm(t),i=W(e,s.items),a=W(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>cm(e,s,i,a)),o(()=>{Object.values(e._x_lookup).forEach(c=>O(()=>{ct(c),c.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function cm(e,t,n,o){let s=a=>typeof a=="object"&&!Array.isArray(a),i=e;n(a=>{dm(a)&&a>=0&&(a=Array.from(Array(a).keys(),h=>h+1)),a===void 0&&(a=[]);let c=e._x_lookup,l=e._x_prevKeys,u=[],d=[];if(s(a))a=Object.entries(a).map(([h,v])=>{let j=no(t,v,h,a);o(S=>{d.includes(S)&&G("Duplicate key on x-for",e),d.push(S)},{scope:{index:h,...j}}),u.push(j)});else for(let h=0;h<a.length;h++){let v=no(t,a[h],h,a);o(j=>{d.includes(j)&&G("Duplicate key on x-for",e),d.push(j)},{scope:{index:h,...v}}),u.push(v)}let p=[],f=[],g=[],_=[];for(let h=0;h<l.length;h++){let v=l[h];d.indexOf(v)===-1&&g.push(v)}l=l.filter(h=>!g.includes(h));let b="template";for(let h=0;h<d.length;h++){let v=d[h],j=l.indexOf(v);if(j===-1)l.splice(h,0,v),p.push([b,h]);else if(j!==h){let S=l.splice(h,1)[0],I=l.splice(j-1,1)[0];l.splice(h,0,I),l.splice(j,0,S),f.push([S,I])}else _.push(v);b=v}for(let h=0;h<g.length;h++){let v=g[h];v in c&&(O(()=>{ct(c[v]),c[v].remove()}),delete c[v])}for(let h=0;h<f.length;h++){let[v,j]=f[h],S=c[v],I=c[j],P=document.createElement("div");O(()=>{I||G('x-for ":key" is undefined or invalid',i,j,c),I.after(P),S.after(I),I._x_currentIfEl&&I.after(I._x_currentIfEl),P.before(S),S._x_currentIfEl&&S.after(S._x_currentIfEl),P.remove()}),I._x_refreshXForScope(u[d.indexOf(j)])}for(let h=0;h<p.length;h++){let[v,j]=p[h],S=v==="template"?i:c[v];S._x_currentIfEl&&(S=S._x_currentIfEl);let I=u[j],P=d[j],H=document.importNode(i.content,!0).firstElementChild,q=ot(I);$t(H,q,i),H._x_refreshXForScope=ue=>{Object.entries(ue).forEach(([te,pe])=>{q[te]=pe})},O(()=>{S.after(H),_e(()=>de(H))()}),typeof P=="object"&&G("x-for key cannot be an object, it must be a string or an integer",i),c[P]=H}for(let h=0;h<_.length;h++)c[_[h]]._x_refreshXForScope(u[d.indexOf(_[h])]);i._x_prevKeys=d})}function lm(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=e.match(o);if(!s)return;let i={};i.items=s[2].trim();let a=s[1].replace(n,"").trim(),c=a.match(t);return c?(i.item=a.replace(t,"").trim(),i.index=c[1].trim(),c[2]&&(i.collection=c[2].trim())):i.item=a,i}function no(e,t,n,o){let s={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,c)=>{s[a]=t[c]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{s[a]=t[a]}):s[e.item]=t,e.index&&(s[e.index]=n),e.collection&&(s[e.collection]=o),s}function dm(e){return!Array.isArray(e)&&!isNaN(e)}function la(){}la.inline=(e,{expression:t},{cleanup:n})=>{let o=Cn(e);o._x_refs||(o._x_refs={}),o._x_refs[t]=e,n(()=>delete o._x_refs[t])};D("ref",la);D("if",(e,{expression:t},{effect:n,cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&G("x-if can only be used on a <template> tag",e);let s=W(e,t),i=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let c=e.content.cloneNode(!0).firstElementChild;return $t(c,{},e),O(()=>{e.after(c),_e(()=>de(c))()}),e._x_currentIfEl=c,e._x_undoIf=()=>{O(()=>{ct(c),c.remove()}),delete e._x_currentIfEl},c},a=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>s(c=>{c?i():a()})),o(()=>e._x_undoIf&&e._x_undoIf())});D("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(s=>Yh(e,s))});kn((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});Wr(xi("@",vi(at("on:"))));D("on",_e((e,{value:t,modifiers:n,expression:o},{cleanup:s})=>{let i=o?W(e,o):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=Ue(e,t,n,c=>{i(()=>{},{scope:{$event:c},params:[c]})});s(()=>a())}));Rn("Collapse","collapse","collapse");Rn("Intersect","intersect","intersect");Rn("Focus","trap","focus");Rn("Mask","mask","mask");function Rn(e,t,n){D(t,o=>G(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,o))}lt.setEvaluator(hi);lt.setRawEvaluator(Sf);lt.setReactivityEngine({reactive:rs,effect:wh,release:jh,raw:N});var um=lt,ro=um;function pm(e,t,n,o,s={}){const i=Or(),a=document.createElement("div");a.className="sb-composer absolute flex flex-column sb-bg ba sb-b-default br3 sb-shadow sans-serif overflow-hidden",a.style.left=`${t}%`,a.style.top=`${n}%`,a.style.transform="translate(12px, -50%)",a.innerHTML=`
    <div x-data="sbComposer" @keydown.escape.prevent.stop="cancel()">
      ${i?`
        <div class="flex items-center ph3 pt2">
          <img class="br-100 ba sb-b-default flex-shrink-0 mr2 sb-avatar" src="${i.avatarUrl}" alt="${i.login}" />
          <span class="f7 sb-fg-muted fw5">${i.login}</span>
        </div>
      `:""}
      <div class="ph3 pt3">
        <textarea class="sb-input sb-textarea w-100 ph2 pv2 br2 f6 sans-serif lh-copy db sb-f-sm"
                  placeholder="Leave a comment…"
                  x-model="text"
                  @keydown.meta.enter="submit()"
                  @keydown.ctrl.enter="submit()"></textarea>
      </div>
      <template x-if="error">
        <div class="ph3 pb2 f7 sb-fg-danger" x-text="error"></div>
      </template>
      <div class="flex items-center justify-end pa3">
        <button class="sb-btn-cancel ph3 pv2 br2 f7 fw5 pointer mr1" @click="cancel()">Cancel</button>
        <button class="sb-btn-success ph3 pv2 br2 f7 fw5 pointer bn" :disabled="submitting"
                @click="submit()" x-text="submitting ? 'Posting…' : 'Comment'">Comment</button>
      </div>
    </div>
  `,e.appendChild(a),a.addEventListener("click",u=>u.stopPropagation());function c(){window.removeEventListener("keydown",l,!0),a.remove()}function l(u){u.key==="Escape"&&(u.preventDefault(),u.stopPropagation(),c(),s.onCancel?.())}return window.addEventListener("keydown",l,!0),window.Alpine._sbComposerRegistered||(window.Alpine.data("sbComposer",()=>({text:"",submitting:!1,error:null,async submit(){const u=this.text.trim();if(u){this.submitting=!0,this.error=null;try{const d=await Dp(o,t,n,u);c(),s.onSubmit?.(d)}catch(d){this.error=d.message,this.submitting=!1,console.error("[storyboard] Failed to post comment:",d)}}},cancel(){c(),s.onCancel?.()}})),window.Alpine._sbComposerRegistered=!0),window.Alpine.initTree(a),requestAnimationFrame(()=>{const u=a.querySelector("textarea");u&&u.focus();const d=a.getBoundingClientRect(),p=window.innerWidth,f=window.innerHeight,g=8;let _=12,b=-(d.height/2);d.left+d.width>p-g&&(_=-(d.width+12));const h=d.top+d.height/2,v=h+b+d.height;v>f-g&&(b-=v-f+g),h+b<g&&(b=g-h),a.style.transform=`translate(${_}px, ${b}px)`}),{el:a,destroy:c}}const so="sb-auth-modal";function fm(){return new Promise(e=>{const t=document.getElementById(so);t&&t.remove();const n=document.createElement("div");n.id=so,n.className="sb-auth-backdrop fixed top-0 right-0 bottom-0 left-0 flex items-center justify-center sans-serif",n.innerHTML=`
      <div class="sb-auth-modal sb-bg ba sb-b-default br3 sb-shadow sb-fg overflow-hidden" x-data="sbAuthModal">
        <div class="flex items-center justify-between ph4 pv3 bb sb-b-muted">
          <h2 class="ma0 f5 fw6 sb-fg">Sign in for comments</h2>
          <button class="flex items-center justify-center bg-transparent bn br2 sb-fg-muted pointer sb-close-btn" @click="close()" aria-label="Close">×</button>
        </div>
        <div class="pa4">
          <p class="ma0 mb3 lh-copy sb-fg-muted sb-f-sm">
            Create a <a class="sb-fg-accent no-underline" href="https://github.com/settings/tokens/new?scopes=repo&description=Storyboard+Comments" target="_blank" rel="noopener">GitHub Personal Access Token</a> with access to <b>github/storyboard</b> repository and <b>Discussions</b> read/write scope. Then enter the token below to sign in and enable commenting features.
          </p>
          <label class="db mb1 fw5 sb-fg sb-f-sm" for="sb-auth-token-input">Personal Access Token</label>
          <input class="sb-input w-100 ph3 pv2 br2 f6 code db" id="sb-auth-token-input" type="password"
                 placeholder="github_pat_… or ghp_…" autocomplete="off" spellcheck="false"
                 x-model="token" @keydown.enter="submit()" />
          <div class="mt2 ph3 pv2 sb-bg-inset ba sb-b-muted br2 f7 sb-fg-muted lh-copy">
            <div class="mb1"><strong class="sb-fg">Fine-grained</strong> (recommended): <code class="dib ph1 sb-bg-muted br1 code sb-fg sb-code-badge">Discussions: Read and write</code></div>
            <div><strong class="sb-fg">Classic</strong>: <code class="dib ph1 sb-bg-muted br1 code sb-fg sb-code-badge">repo</code></div>
          </div>
          <template x-if="error">
            <div class="mt2 ph3 pv2 br2 sb-fg-danger sb-f-sm sb-error-alert" x-text="error"></div>
          </template>
          <template x-if="user">
            <div class="flex items-center pv1">
              <img class="br-100 ba sb-b-default mr3 sb-avatar-lg" :src="user.avatarUrl" :alt="user.login" />
              <div class="f6 sb-fg">
                <span x-text="user.login"></span>
                <span class="db f7 sb-fg-success mt1">✓ Signed in</span>
              </div>
            </div>
          </template>
        </div>
        <div class="flex items-center justify-end ph4 pv3 bt sb-b-muted">
          <button class="sb-btn-cancel ph3 pv1 br2 fw5 sans-serif pointer mr2 sb-f-sm" @click="close()">Cancel</button>
          <button class="sb-btn-success ph3 pv1 br2 fw5 sans-serif pointer bn sb-f-sm" :disabled="submitting"
                  @click="user ? done() : submit()" x-text="user ? 'Done' : (submitting ? 'Validating…' : 'Sign in')">
            Sign in
          </button>
        </div>
      </div>
    `,document.body.appendChild(n),n.addEventListener("click",s=>{s.target===n&&(n.remove(),e(null))});function o(s){s.key==="Escape"&&(s.preventDefault(),s.stopPropagation(),window.removeEventListener("keydown",o,!0),n.remove(),e(null))}window.addEventListener("keydown",o,!0),window.Alpine._sbAuthRegistered||(window.Alpine.data("sbAuthModal",()=>({token:"",submitting:!1,error:null,user:null,async submit(){const s=this.token.trim();if(s){this.submitting=!0,this.error=null;try{const i=await yp(s);xp(s),this.user=i}catch(i){this.error=i.message}finally{this.submitting=!1}}},done(){window.removeEventListener("keydown",o,!0);const s=this.user;n.remove(),e(s)},close(){window.removeEventListener("keydown",o,!0),n.remove(),e(null)}})),window.Alpine._sbAuthRegistered=!0),window.Alpine.initTree(n),requestAnimationFrame(()=>{const s=n.querySelector("#sb-auth-token-input");s&&s.focus()})})}function Tm(){const e=Or();vp(),console.log(`[storyboard] Signed out${e?` (was ${e.login})`:""}`)}const oo={THUMBS_UP:"👍",THUMBS_DOWN:"👎",LAUGH:"😄",HOORAY:"🎉",CONFUSED:"😕",HEART:"❤️",ROCKET:"🚀",EYES:"👀"};function io(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function X(e){const t=document.createElement("div");return t.textContent=e??"",t.innerHTML}let re=null;function un(e,t,n,o={}){re&&(re.destroy(),re=null);const s=Or(),i=t.replies??[],a=s&&t.author?.login===s.login,c=s&&n,l=document.createElement("div");l.className="sb-comment-window absolute flex flex-column sb-bg ba sb-b-default br3 sb-shadow sans-serif overflow-hidden",l.style.cssText=`z-index:100001;width:360px;max-height:480px;left:${t.meta?.x??0}%;top:${t.meta?.y??0}%;transform:translate(12px,-50%)`,l.setAttribute("x-data","sbCommentWindow"),l.setAttribute("@click.stop",""),l.innerHTML=`
      <!-- Header (draggable) -->
      <div class="flex items-center justify-between ph3 pv3 bb sb-b-muted sb-draggable"
           @mousedown="startDrag($event)">
        <div class="flex items-center">
          ${t.author?.avatarUrl?`<img class="br-100 ba sb-b-default flex-shrink-0 mr2 sb-avatar" src="${X(t.author.avatarUrl)}" alt="${X(t.author.login)}" />`:""}
          <span class="f7 fw6 sb-fg">${X(t.author?.login??"unknown")}</span>
          ${t.createdAt?`<span class="sb-fg-muted ml1 sb-f-xs">${X(io(t.createdAt))}</span>`:""}
        </div>
        <div class="sb-comment-window-header-actions flex items-center flex-shrink-0" @mousedown.stop>
          <!-- Resolve -->
          <button class="flex items-center justify-center bg-transparent bn br2 pointer fw5 sans-serif flex-shrink-0 nowrap sb-action-btn"
                  :class="resolved ? 'sb-fg-success' : 'sb-fg-muted'"
                  :title="resolved ? 'Unresolve' : 'Resolve'"
                  :disabled="resolving"
                  @click="toggleResolve()"
                  x-text="resolving ? (resolved ? 'Unresolving…' : 'Resolving…') : (resolved ? 'Resolved ✓' : 'Resolve')"></button>
          <!-- Copy link -->
          <button class="flex items-center justify-center bg-transparent bn br2 pointer fw5 sans-serif flex-shrink-0 nowrap sb-action-btn"
                  :class="copied ? 'sb-fg-success' : 'sb-fg-muted'"
                  title="Copy link"
                  @click="copyLink()"
                  x-text="copied ? 'Copied!' : 'Copy link'"></button>
          <!-- Close -->
          <button class="flex items-center justify-center bg-transparent bn br2 sb-fg-muted pointer flex-shrink-0 sb-close-btn-sm"
                  aria-label="Close"
                  @click="close()">×</button>
        </div>
      </div>

      <!-- Body -->
      <div class="flex-auto overflow-y-auto ph3 pt3">
        <!-- Comment text / edit -->
        <template x-if="!editing">
          <div>
            <p class="lh-copy sb-fg ma0 mb2 word-wrap sb-f-sm">${X(t.text)}</p>
          </div>
        </template>
        <template x-if="editing">
          <div>
            <textarea class="sb-input sb-textarea w-100 ph2 pv1 br2 f7 sans-serif lh-copy db mb2"
                      x-model="editText" x-ref="editArea" x-init="$nextTick(() => $refs.editArea?.focus())"></textarea>
            <div class="flex justify-end mb2">
              <button class="sb-btn-cancel ph2 pv1 br2 f7 fw5 sans-serif pointer mr1" @click="editing = false">Cancel</button>
              <button class="sb-btn-success ph3 pv2 br2 f7 fw5 sans-serif pointer bn"
                      :disabled="saving" @click="saveEdit()"
                      x-text="saving ? 'Saving…' : 'Save'">Save</button>
            </div>
          </div>
        </template>

        <!-- Reactions -->
        <div class="flex items-center flex-wrap mb2" x-ref="reactionBar">
          <template x-for="(group, gi) in reactions" :key="group.content">
            <template x-if="(group.users?.totalCount ?? 0) > 0">
              <button class="f7 flex items-center ph2 br-pill pointer sans-serif mr1 mb1 pv1 hover:b--blue"
                      :class="group.viewerHasReacted ? 'sb-pill sb-pill-active' : 'sb-pill'"
                      @click.stop="toggleReaction(group.content, gi)">
                <span class="mr1 f7" x-text="emojiFor(group.content)"></span>
                <span class="f7" x-text="group.users?.totalCount ?? 0"></span>
              </button>
            </template>
          </template>
          <div class="relative mr1 mb1 dib">
            <button class="f7 flex items-center ph2 pv1 br-pill pointer sans-serif sb-pill"
                    @click.stop="pickerTarget = pickerTarget === 'comment' ? null : 'comment'"><span>😀 +</span></button>
            <template x-if="pickerTarget === 'comment'">
              <div class="sb-reaction-picker absolute left-0 flex pa1 sb-bg ba sb-b-default br3 sb-shadow" @click.outside="pickerTarget = null">
                <template x-for="[key, emoji] in emojiEntries" :key="key">
                  <button class="flex items-center justify-center br2 bn f6 pointer mr1"
                          :class="isReacted(key) ? 'sb-reaction-btn-active' : 'bg-transparent sb-reaction-btn'"
                          @click.stop="toggleReaction(key); pickerTarget = null"
                          x-text="emoji"></button>
                </template>
              </div>
            </template>
          </div>
          <template x-if="!editing">
            <div class="dib mb1 ml-auto">
            ${a?'<button class="sb-fg-muted bg-transparent bn pointer f7 underline-hover" @click="editing = true; editText = commentText">Edit</button>':""}
            </div>
          </template>
        </div>

        <!-- Replies -->
        ${i.length>0?`
        <div class="bt sb-b-muted pt2 mt1">
          <div class="fw6 sb-fg-muted ttu tracked mb2 sb-f-xs">${i.length} ${i.length===1?"Reply":"Replies"}</div>
          ${i.map((p,f)=>`
          <div class="flex mb2" data-reply-index="${f}">
            ${p.author?.avatarUrl?`<img class="br-100 ba sb-b-default flex-shrink-0 mr2 sb-avatar-sm" src="${X(p.author.avatarUrl)}" alt="${X(p.author.login)}" />`:""}
            <div class="flex-auto sb-min-w-0">
              <div class="flex items-center mb1">
                <span class="f7 fw6 sb-fg mr1">${X(p.author?.login??"unknown")}</span>
                ${p.createdAt?`<span class="sb-fg-muted sb-f-xs">${X(io(p.createdAt))}</span>`:""}
                ${s&&p.author?.login===s.login?`
                <div class="flex gap-2 ml-auto flex-shrink-0">
                  <template x-if="editingReply !== ${f}">
                    <button class="sb-fg-muted bg-transparent bn pointer underline-hover sb-f-xs"
                            @click="editingReply = ${f}; editReplyText = replyTexts[${f}]">Edit</button>
                  </template>
                  <template x-if="editingReply !== ${f}">
                    <button class="sb-fg-danger bg-transparent bn pointer underline-hover sb-f-xs"
                            @click="deleteReplyAt(${f})">Delete</button>
                  </template>
                </div>
                `:""}
              </div>
              <template x-if="editingReply !== ${f}">
                <p class="lh-copy sb-fg ma0 word-wrap sb-f-sm">${X(p.text??p.body)}</p>
              </template>
              <template x-if="editingReply === ${f}">
                <div>
                  <textarea class="sb-input sb-textarea-sm w-100 ph2 pv1 br2 sans-serif lh-copy db mb1 f7"
                            x-model="editReplyText"></textarea>
                  <div class="flex justify-end mb1">
                    <button class="sb-btn-cancel ph2 pv1 br2 f7 fw5 sans-serif pointer mr1" @click="editingReply = -1">Cancel</button>
                    <button class="sb-btn-success ph3 pv2 br2 f7 fw5 sans-serif pointer bn"
                            :disabled="savingReply" @click="saveReply(${f})"
                            x-text="savingReply ? 'Saving…' : 'Save'">Save</button>
                  </div>
                </div>
              </template>
              <!-- Reply reactions -->
              <div class="flex items-center flex-wrap mt1">
                <template x-for="(rg, rgi) in replyReactions[${f}]" :key="rg.content">
                  <template x-if="(rg.users?.totalCount ?? 0) > 0">
                    <button class="dib flex f7 items-center ph2 br-pill pointer sans-serif mr1 mb1 "
                            :class="rg.viewerHasReacted ? 'sb-pill sb-pill-active' : 'sb-pill'"
                            @click.stop="toggleReplyReaction(${f}, rg.content, rgi)">
                      <span class="mr1" x-text="emojiFor(rg.content)"></span>
                      <span x-text="rg.users?.totalCount ?? 0"></span>
                    </button>
                  </template>
                </template>
                <div class="relative mr1 mb1">
                  <button class="f7 flex items-center ph2 pv1 br-pill pointer sans-serif sb-pill"
                          @click.stop="pickerTarget = pickerTarget === 'reply-${f}' ? null : 'reply-${f}'">😀 +</button>
                  <template x-if="pickerTarget === 'reply-${f}'">
                    <div class="sb-reaction-picker absolute left-0 flex pa1 sb-bg ba sb-b-default br3 sb-shadow" @click.outside="pickerTarget = null">
                      <template x-for="[key, emoji] in emojiEntries" :key="key">
                        <button class="flex items-center justify-center br2 bn f6 pointer mr1"
                                :class="isReplyReacted(${f}, key) ? 'sb-reaction-btn-active' : 'bg-transparent sb-reaction-btn'"
                                @click.stop="toggleReplyReaction(${f}, key); pickerTarget = null"
                                x-text="emoji"></button>
                      </template>
                    </div>
                  </template>
                </div>
              </div>
            </div>
          </div>
          `).join("")}
        </div>
        `:""}
      </div>

      <!-- Reply form -->
      ${c?`
      <div class="bt sb-b-muted ph3 pv3 flex flex-column">
        <textarea class="sb-input sb-textarea-sm w-100 ph2 pv1 br2 f7 sans-serif lh-copy db mb1"
                  placeholder="Reply…"
                  x-model="replyText"
                  @keydown.meta.enter="submitReply()"
                  @keydown.ctrl.enter="submitReply()"
                  @keydown.escape.prevent.stop></textarea>
        <div class="flex justify-end mt2">
          <button class="sb-btn-success ph3 pv2 br2 f7 fw5 sans-serif pointer bn"
                  :disabled="!replyText.trim() || submittingReply"
                  @click="submitReply()"
                  x-text="submittingReply ? 'Posting…' : 'Reply'">Reply</button>
        </div>
      </div>
      `:""}
  `;const u=new URL(window.location.href);u.searchParams.set("comment",t.id),window.history.replaceState(null,"",u.toString()),e.appendChild(l);function d(){l.remove(),re?.el===l&&(re=null);const p=new URL(window.location.href);p.searchParams.delete("comment"),window.history.replaceState(null,"",p.toString()),o.onClose?.()}return window.Alpine._sbCommentWindowRegistered||(window.Alpine.data("sbCommentWindow",()=>({resolved:!1,resolving:!1,copied:!1,editing:!1,editText:"",saving:!1,commentText:"",replyText:"",submittingReply:!1,editingReply:-1,editReplyText:"",savingReply:!1,pickerTarget:null,reactions:[],replyReactions:[],replyTexts:[],emojiEntries:Object.entries(oo),_comment:null,_discussion:null,_container:null,_callbacks:null,_destroy:null,_win:null,init(){const p=this.$root._sbInit;p&&(this._comment=p.comment,this._discussion=p.discussion,this._container=p.container,this._callbacks=p.callbacks,this._destroy=p.destroy,this._win=p.win,this.resolved=!!this._comment.meta?.resolved,this.commentText=this._comment.text??"",this.reactions=[...this._comment.reactionGroups??[]],this.replyTexts=(this._comment.replies??[]).map(f=>f.text??f.body??""),this.replyReactions=(this._comment.replies??[]).map(f=>[...f.reactionGroups??[]]))},emojiFor(p){return oo[p]??p},isReacted(p){return this.reactions.some(f=>f.content===p&&f.viewerHasReacted)},isReplyReacted(p,f){return(this.replyReactions[p]??[]).some(g=>g.content===f&&g.viewerHasReacted)},async toggleResolve(){this.resolving=!0;try{this.resolved?(await Hp(this._comment.id,this._comment._rawBody??this._comment.body??""),this._comment.meta={...this._comment.meta},delete this._comment.meta.resolved,this.resolved=!1,this.resolving=!1,this._callbacks.onMove?.()):(await zp(this._comment.id,this._comment._rawBody??this._comment.body??""),this._comment.meta={...this._comment.meta,resolved:!0},this._callbacks.onMove?.(),this._destroy())}catch(p){console.error("[storyboard] Failed to toggle resolve:",p),this.resolving=!1}},copyLink(){const p=new URL(window.location.href);p.searchParams.set("comment",this._comment.id),navigator.clipboard.writeText(p.toString()).then(()=>{this.copied=!0,setTimeout(()=>{this.copied=!1},2e3)}).catch(()=>{const f=document.createElement("input");f.value=p.toString(),document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()})},close(){this._destroy()},async saveEdit(){const p=this.editText.trim();if(p){this.saving=!0;try{await Fp(this._comment.id,this._comment._rawBody??this._comment.body??"",p),this._comment.text=p,this._comment._rawBody=null,this.commentText=p;const f=this.$root.querySelector(".word-wrap");f&&(f.textContent=p),this.editing=!1,this.saving=!1}catch(f){console.error("[storyboard] Failed to edit comment:",f),this.saving=!1}}},async toggleReaction(p,f){const g=f!==void 0?this.reactions[f]:this.reactions.find(b=>b.content===p),_=g?.viewerHasReacted??!1;_&&g?(g.users={totalCount:Math.max(0,(g.users?.totalCount??1)-1)},g.viewerHasReacted=!1,g.users.totalCount===0&&(this.reactions=this.reactions.filter(b=>b.content!==p))):g?(g.users={totalCount:(g.users?.totalCount??0)+1},g.viewerHasReacted=!0):this.reactions.push({content:p,users:{totalCount:1},viewerHasReacted:!0}),this._comment.reactionGroups=this.reactions;try{_?await Fs(this._comment.id,p):await Hs(this._comment.id,p)}catch(b){console.error("[storyboard] Reaction toggle failed:",b)}},async toggleReplyReaction(p,f,g){const _=(this._comment.replies??[])[p];if(!_)return;const b=this.replyReactions[p]??[],h=g!==void 0?b[g]:b.find(j=>j.content===f),v=h?.viewerHasReacted??!1;v&&h?(h.users={totalCount:Math.max(0,(h.users?.totalCount??1)-1)},h.viewerHasReacted=!1,h.users.totalCount===0&&(this.replyReactions[p]=b.filter(j=>j.content!==f))):h?(h.users={totalCount:(h.users?.totalCount??0)+1},h.viewerHasReacted=!0):(b.push({content:f,users:{totalCount:1},viewerHasReacted:!0}),this.replyReactions[p]=b),_.reactionGroups=this.replyReactions[p];try{v?await Fs(_.id,f):await Hs(_.id,f)}catch(j){console.error("[storyboard] Reaction toggle failed:",j)}},async submitReply(){const p=this.replyText.trim();if(p){this.submittingReply=!0;try{await Bp(this._discussion.id,this._comment.id,p),this.replyText="",this.submittingReply=!1,this._callbacks.onMove?.()}catch(f){console.error("[storyboard] Failed to post reply:",f),this.submittingReply=!1}}},async saveReply(p){const f=this.editReplyText.trim();if(!f)return;const g=(this._comment.replies??[])[p];if(g){this.savingReply=!0;try{await Up(g.id,f),g.text=f,g.body=f,this.replyTexts[p]=f,this.editingReply=-1,this.savingReply=!1}catch(_){console.error("[storyboard] Failed to edit reply:",_),this.savingReply=!1}}},async deleteReplyAt(p){const f=(this._comment.replies??[])[p];if(!(!f||!confirm("Delete this reply?")))try{await Wp(f.id),this._callbacks.onMove?.()}catch(g){console.error("[storyboard] Failed to delete reply:",g)}},startDrag(p){if(p.target.closest(".sb-comment-window-header-actions"))return;const f=this._win,g=p.clientX,_=p.clientY,b=f.getBoundingClientRect(),h=b.left,v=b.top;p.target.style.cursor="grabbing";const j=I=>{const P=I.clientX-g,H=I.clientY-_;f.style.position="fixed",f.style.left=`${h+P}px`,f.style.top=`${v+H}px`,f.style.transform="none"},S=()=>{p.target.style.cursor="grab",document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",S),p.preventDefault()}})),window.Alpine._sbCommentWindowRegistered=!0),l._sbInit={comment:t,discussion:n,container:e,callbacks:o,destroy:d,win:l},window.Alpine.initTree(l),requestAnimationFrame(()=>{const p=l.getBoundingClientRect(),f=window.innerWidth,g=window.innerHeight,_=8;let b=12,h=-(p.height/2);p.left+p.width>f-_&&(b=-(p.width+12));const v=p.top+p.height/2,j=v+h+p.height;j>g-_&&(h-=j-g+_),v+h<_&&(h=_-v),l.style.transform=`translate(${b}px, ${h}px)`}),re={el:l,destroy:d},{el:l,destroy:d}}function da(){re&&(re.destroy(),re=null)}let ge=null,se=null,K=null,pr=[],nt=null;function ao(e){const t=document.createElement("div");return t.textContent=e??"",t.innerHTML}function Nn(){return document.querySelector("main")||document.body}function Ln(){if(se)return se;const e=Nn();return getComputedStyle(e).position==="static"&&(e.style.position="relative"),se=document.createElement("div"),se.className="sb-comment-overlay absolute top-0 right-0 bottom-0 left-0 pe-none",e.appendChild(se),se}function hm(){ge||(ge=document.createElement("div"),ge.className="sb-banner fixed flex items-center pe-none sans-serif sb-shadow",ge.innerHTML=`
    Comment mode — click to place a comment. Press
    <kbd class="sb-kbd">C</kbd> or
    <kbd class="sb-kbd">Esc</kbd> to exit.
  `,document.body.appendChild(ge))}function mm(){ge&&(ge.remove(),ge=null)}function On(){return window.location.pathname}function ss(){for(const e of pr)e.remove();pr=[]}function kt(){Yo(On()),fa()}function ua(e,t,n){const o=Math.round(n*137.5%360),s=document.createElement("div");s.className="sb-comment-pin absolute br-100 sb-bg pointer sb-shadow pe-auto overflow-hidden",s.style.left=`${t.meta?.x??0}%`,s.style.top=`${t.meta?.y??0}%`,s.style.setProperty("--pin-hue",String(o)),t.meta?.resolved&&s.setAttribute("data-resolved","true"),s.title=`${t.author?.login??"unknown"}: ${t.text?.slice(0,80)??""}`,s.innerHTML=t.author?.avatarUrl?`<img class="br-100 db sb-pin-img" src="${ao(t.author.avatarUrl)}" alt="${ao(t.author.login)}" draggable="false" />`:"",s._commentId=t.id,t._rawBody=t.body;let i=!1;return s.addEventListener("mousedown",a=>{if(a.button!==0)return;i=!1;const c=Nn(),l=c.getBoundingClientRect(),u=a.clientX,d=a.clientY,p=parseFloat(s.style.left)/100*l.width,f=parseFloat(s.style.top)/100*l.height,g=b=>{const h=b.clientX-u,v=b.clientY-d;if(!i&&Math.abs(h)<4&&Math.abs(v)<4)return;i=!0;const j=c.getBoundingClientRect(),S=Math.round((p+h)/j.width*1e3)/10,I=Math.round((f+v)/j.height*1e3)/10;s.style.left=`${S}%`,s.style.top=`${I}%`},_=async b=>{if(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",_),!i)return;const h=c.getBoundingClientRect(),v=b.clientX-u,j=b.clientY-d,S=Math.round((p+v)/h.width*1e3)/10,I=Math.round((f+j)/h.height*1e3)/10;t.meta={...t.meta,x:S,y:I};try{await qp(t.id,t._rawBody??t.body??"",S,I),t._rawBody=null,Yo(On())}catch(P){console.error("[storyboard] Failed to move pin:",P)}};document.addEventListener("mousemove",g),document.addEventListener("mouseup",_),a.preventDefault()}),s.addEventListener("click",async a=>{if(a.stopPropagation(),!i){K&&(K.destroy(),K=null);try{const c=await Go(t.id);c&&(c._rawBody=c.body,un(e,c,nt,{onClose:()=>{},onMove:()=>kt()}))}catch(c){console.warn("[storyboard] Could not load comment detail:",c.message),un(e,t,nt,{onClose:()=>{},onMove:()=>kt()})}}}),e.appendChild(s),pr.push(s),s}function pa(){if(!nt?.comments?.length)return;const e=Ln();ss(),nt.comments.forEach((t,n)=>{t.meta?.x!=null&&t.meta?.y!=null&&ua(e,t,n)})}async function fa(){if(!on())return;const e=Ln(),t=On(),n=Kp(t);if(n){nt=n,pa();return}try{const o=await Mp(t);if(nt=o,o&&Gp(t,o),ss(),!o?.comments?.length)return;o.comments.forEach((s,i)=>{s.meta?.x!=null&&s.meta?.y!=null&&ua(e,s,i)}),gm(e,o)}catch(o){console.warn("[storyboard] Could not load comments:",o.message)}}async function gm(e,t){const n=new URLSearchParams(window.location.search).get("comment");if(!n||!t?.comments?.length)return;const o=t.comments.find(s=>s.id===n);if(o){if(o.meta?.y!=null){const s=Nn(),i=o.meta.y/100*s.scrollHeight,a=s.scrollTop||window.scrollY,c=a+window.innerHeight;if(i<a||i>c){const l=Math.max(0,i-window.innerHeight/3);window.scrollTo({top:l,behavior:"smooth"})}}try{const s=await Go(n);if(s){s._rawBody=s.body,un(e,s,t,{onClose:()=>{},onMove:()=>kt()});return}}catch(s){console.warn("[storyboard] Could not load comment detail:",s.message)}o._rawBody=o.body,un(e,o,t,{onClose:()=>{},onMove:()=>kt()})}}function bm(e){if(!Jt()||e.target.closest(".sb-composer")||e.target.closest(".sb-comment-pin")||e.target.closest(".sb-comment-window"))return;da(),K&&(K.destroy(),K=null);const t=Nn(),n=t.getBoundingClientRect(),o=Math.round((e.clientX-n.left)/n.width*1e3)/10,s=Math.round((e.clientY-n.top+t.scrollTop)/t.scrollHeight*1e3)/10,i=Ln();K=pm(i,o,s,On(),{onCancel:()=>{K=null},onSubmit:()=>{K=null,kt()}})}function xm(e){e?(document.body.classList.add("sb-comment-mode"),hm(),Ln(),pa(),fa()):(document.body.classList.remove("sb-comment-mode"),mm(),K&&(K.destroy(),K=null),da(),ss(),se&&(se.remove(),se=null))}let co=!1;function vm(){co||(co=!0,window.Alpine=ro,ro.start(),wp(xm),document.addEventListener("click",e=>{Jt()&&(e.target.closest(".sb-devtools-wrapper")||e.target.closest(".sb-auth-backdrop")||e.target.closest(".sb-comments-drawer")||e.target.closest(".sb-comments-drawer-backdrop")||e.target.closest(".sb-composer")||e.target.closest(".sb-comment-pin")||e.target.closest(".sb-comment-window")||bm(e))}),window.addEventListener("keydown",e=>{const t=e.target.tagName;if(!(t==="INPUT"||t==="TEXTAREA"||t==="SELECT"||e.target.isContentEditable)){if(e.key==="c"&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!rn())return;if(e.preventDefault(),!Jt()&&!on()){fm();return}_p()}e.key==="Escape"&&Jt()&&(e.preventDefault(),Bs(!1))}}),rn()&&on()&&new URLSearchParams(window.location.search).get("comment")&&Bs(!0))}const ym={owner:"dfosco",name:"storyboard-source"},_m={discussions:{category:"General"}},wm={repository:ym,comments:_m},ha=Ka(bp,{basename:"/storyboard-source/"});Zc(ha,"/storyboard-source/");yc();xc();jc(wm,{basePath:"/storyboard-source/"});Lc({basePath:"/storyboard-source/"});vm();const jm=document.getElementById("root"),Sm=Ua.createRoot(jm);Sm.render(r.jsx(w.StrictMode,{children:r.jsx(qa,{colorMode:"auto",children:r.jsxs(Wa,{children:[r.jsx(Do,{}),r.jsx(Ga,{router:ha})]})})}));export{Tm as a,Pp as f,jn as g,on as i,Am as l,fm as o,Bs as s,_p as t};
