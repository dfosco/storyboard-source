import{b as a}from"./vendor-react-C38C2D6M.js";import{S as P}from"./index-CdG3T2qz.js";import{a as x,g as k,b as h,d as y,c as S,e as w,f as p}from"./FormContext-BUZxcrzV.js";function v(t){const c=a.useContext(P);if(c===null)throw new Error("useSceneData must be used within a <StoryboardProvider>");const{data:n,loading:u,error:i}=c,b=a.useSyncExternalStore(x,k);return a.useMemo(()=>{if(u||i||n==null)return;if(!t){const e=h(),r=Object.keys(e);if(r.length===0)return n;const o=y(n);for(const g of r)S(o,g,e[g]);return o}const l=w(t);if(l!==null)return l;const f=t+".",d=h(),m=Object.keys(d).filter(e=>e.startsWith(f)),s=p(n,t);if(m.length>0&&s!==void 0){const e=y(s);for(const r of m){const o=r.slice(f.length);S(e,o,d[r])}return e}return s===void 0?(console.warn(`[useSceneData] Path "${t}" not found in scene data.`),{}):s},[n,u,i,t,b])}export{v as u};
