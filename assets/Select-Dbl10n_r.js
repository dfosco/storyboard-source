import{j as S,l as a}from"./vendor-primer-CxVDLtAo.js";import{b as f}from"./vendor-react-C38C2D6M.js";import{F as C,u as E}from"./FormContext-BUZxcrzV.js";function b({name:t,onChange:i,value:c,children:n,...l}){const e=f.useContext(C),p=e?.prefix&&t?`${e.prefix}.${t}`:t,[o]=E(p||""),[x,u]=f.useState(o??""),s=!!e&&!!t;f.useEffect(()=>{if(s)return e.subscribe(t,r=>u(r))},[s,e,t]),f.useEffect(()=>{s&&o!=null&&(u(o),e.setDraft(t,o))},[]);const v=r=>{s&&(u(r.target.value),e.setDraft(t,r.target.value)),i&&i(r)},d=s?x:c;return S.jsx(a,{name:t,value:d,onChange:v,...l,children:n})}b.Option=a.Option;export{b as S};
